var Di=Object.defineProperty;var Pi=(e,t,r)=>t in e?Di(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Y=(e,t,r)=>(Pi(e,typeof t!="symbol"?t+"":t,r),r);const u="bazaar",E="auction",G="vendor",Ni={AMBER_MATERIAL:u,"Amber Crystal":G,"Amber Necklace":E,"Amber-polished Drill Engine":E,"Amethyst Crystal":G,"Amethyst Gauntlet":E,"Ammonite Pet":E,"Ankylosaurus Pet":E,"Aquamarine Crystal":G,"Artifact Of Power":E,BEJEWELED_HANDLE:u,"Beacon I":E,"Beacon II":E,"Beacon III":E,"Beacon IV":E,"Beacon V":E,"Bejeweled Collar":E,"Blue Cheese Goblin Omelette":E,"Boots Of Divan":E,CORLEONITE:u,"Chestplate Of Divan":E,Chisel:E,"Citrine Crystal":G,"Claw Fossil":E,"Clubbed Fossil":E,DIAMONITE:u,DIVAN_FRAGMENT:u,DIVAN_POWDER_COATING:u,DRILL_ENGINE:u,"Divan's Alloy":E,"Divan's Drill":E,"Dwarven Handwarmers":E,"Dwarven Metal Talisman":E,ENCHANTED_COAL_BLOCK:u,ENCHANTED_COBBLESTONE:u,ENCHANTED_DIAMOND_BLOCK:u,ENCHANTED_ENDER_PEARL:u,ENCHANTED_GLACITE:u,ENCHANTED_GOLD_BLOCK:u,ENCHANTED_IRON_BLOCK:u,ENCHANTED_LAPIS_LAZULI:u,ENCHANTED_MITHRIL:u,ENCHANTED_REDSTONE_BLOCK:u,ENCHANTED_TITANIUM:u,ENCHANTED_TUNGSTEN:u,ENCHANTED_UMBER:u,FINE_AMBER_GEM:u,FINE_AMETHYST_GEM:u,FINE_AQUAMARINE_GEM:u,FINE_CITRINE_GEM:u,FINE_JADE_GEM:u,FINE_ONYX_GEM:u,FINE_PERIDOT_GEM:u,FINE_RUBY_GEM:u,FINE_SAPPHIRE_GEM:u,FLAWLESS_AMBER_GEM:u,FLAWLESS_AMETHYST_GEM:u,FLAWLESS_AQUAMARINE_GEM:u,FLAWLESS_CITRINE_GEM:u,FLAWLESS_JADE_GEM:u,FLAWLESS_JASPER_GEM:u,FLAWLESS_ONYX_GEM:u,FLAWLESS_OPAL_GEM:u,FLAWLESS_PERIDOT_GEM:u,FLAWLESS_RUBY_GEM:u,FLAWLESS_SAPPHIRE_GEM:u,FLAWLESS_TOPAZ_GEM:u,FRIGID_HUSK:u,FUEL_TANK:u,"Footprint Fossil":E,GEMSTONE_MIXTURE:u,GLACITE_AMALGAMATION:u,GLACITE_JEWEL:u,GLEAMING_CRYSTAL:u,GLOSSY_GEMSTONE:u,GOBLIN_EGG:u,GOBLIN_EGG_BLUE:u,GOBLIN_EGG_GREEN:u,GOBLIN_EGG_RED:u,GOBLIN_EGG_YELLOW:u,GOLDEN_PLATE:u,"Gemstone Chamber":E,"Gemstone Drill LT-522":E,"Gemstone Fuel Tank":E,"Glacite-Plated Chisel":E,"Goblin Omelette":E,"Goblin Pet":E,HARD_STONE:u,HOT_STUFF:u,"Helix Fossil":E,"Helmet Of Divan":E,"Jade Belt":E,"Jade Crystal":G,"Jasper Crystal":G,"Jasper Drill X":E,"Leggings Of Divan":E,MAGMA_CORE:u,MATCH_STICKS:u,MITHRIL_ORE:u,MITHRIL_PLATE:u,"Mammoth Pet":E,"Mithril Belt":E,"Mithril Cloak":E,"Mithril Drill SX-R226":E,"Mithril Drill SX-R326":E,"Mithril Gauntlet":E,"Mithril Necklace":E,"Mithril-Infused Fuel Tank":E,"Mithril-Plated Drill Engine":E,"Mole Pet":E,"Onyx Crystal":G,"Opal Crystal":G,PERFECT_AMBER_GEM:u,PERFECT_AMETHYST_GEM:u,PERFECT_AQUAMARINE_GEM:u,PERFECT_CITRINE_GEM:u,PERFECT_JADE_GEM:u,PERFECT_JASPER_GEM:u,PERFECT_ONYX_GEM:u,PERFECT_OPAL_GEM:u,PERFECT_PERIDOT_GEM:u,PERFECT_PLATE:u,PERFECT_RUBY_GEM:u,PERFECT_SAPPHIRE_GEM:u,PERFECT_TOPAZ_GEM:u,PETRIFIED_STARFALL:u,PLASMA:u,POCKET_ICEBERG:u,POWER_CRYSTAL:u,PRECURSOR_APPARATUS:u,PURE_MITHRIL:u,"Pendant Of Divan":E,"Penguin Pet":E,"Perfect Chisel":E,"Perfectly-Cut Fuel Tank":E,"Peridot Crystal":G,"Pesto Goblin Omelette":E,"Polished Topaz Rod":E,"Portable Campfire":E,REFINED_DIAMOND:u,REFINED_MINERAL:u,REFINED_MITHRIL:u,REFINED_TITANIUM:u,REFINED_TUNGSTEN:u,REFINED_UMBER:u,ROCK_GEMSTONE:u,"Reinforced Chisel":E,"Relic Of Power":E,"Ruby Crystal":G,"Ruby Drill TX-15":E,"Ruby-polished Drill Engine":E,SKELETON_KEY:u,SLUDGE_JUICE:u,STARFALL:u,"Sapphire Cloak":E,"Sapphire Crystal":G,"Sapphire-polished Drill Engine":E,"Shattered Locket":E,"Spicy Goblin Omelette":E,"Spine Fossil":E,"Spinosaurus Pet":E,"Starfall Seasoning":E,"Sunny Side Goblin Omelette":E,"T-Rex Pet":E,TITANIUM_ORE:u,TITANIUM_TESSERACT:u,TREASURITE:u,TUNGSTEN_KEY:u,TUNGSTEN_ORE:u,TUNGSTEN_PLATE:u,"Titanium Artifact":E,"Titanium Belt":E,"Titanium Cloak":E,"Titanium Drill DR-X355":E,"Titanium Drill DR-X455":E,"Titanium Drill DR-X555":E,"Titanium Drill DR-X655":E,"Titanium Gauntlet":E,"Titanium Necklace":E,"Titanium Relic":E,"Titanium Ring":E,"Titanium Talisman":E,"Titanium-Infused Fuel Tank":E,"Titanium-Plated Drill Engine":E,"Topaz Crystal":G,"Topaz Drill KGR-12":E,"Travel Scroll to the Dwarven Base Camp":E,"Travel Scroll to the Dwarven Forge":E,"Tungsten Regulator":E,"Tusk Fossil":E,UMBER_KEY:u,UMBER_PLATE:u,"Ugly Fossil":E,WORM_MEMBRANE:u,"Webbed Fossil":E,coins:G},Ae=24,H=1/120,an={coins:1},wi=[{bazaarItem:!0,craftMaterial:[{intermediaryCraft:!1,itemId:"ENCHANTED_DIAMOND_BLOCK",quantity:2,source:u}],hotm:2,itemId:"REFINED_DIAMOND",time:8},{bazaarItem:!0,craftMaterial:[{intermediaryCraft:!1,itemId:"ENCHANTED_MITHRIL",quantity:160,source:u}],hotm:2,itemId:"REFINED_MITHRIL",time:6},{bazaarItem:!0,craftMaterial:[{intermediaryCraft:!1,itemId:"ENCHANTED_TITANIUM",quantity:16,source:u}],hotm:2,itemId:"REFINED_TITANIUM",time:12},{bazaarItem:!0,craftMaterial:[{intermediaryCraft:!1,itemId:"ENCHANTED_UMBER",quantity:160,source:u}],hotm:7,itemId:"REFINED_UMBER",time:1},{bazaarItem:!0,craftMaterial:[{intermediaryCraft:!1,itemId:"ENCHANTED_TUNGSTEN",quantity:160,source:u}],hotm:2,itemId:"REFINED_TUNGSTEN",time:1}],Oi=[{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!1,itemId:"ENCHANTED_MITHRIL",quantity:3,source:u}],hotm:1,itemId:"Mithril Necklace",time:1},{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!1,itemId:"ENCHANTED_MITHRIL",quantity:3,source:u}],hotm:1,itemId:"Mithril Cloak",time:1},{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!1,itemId:"ENCHANTED_MITHRIL",quantity:3,source:u}],hotm:1,itemId:"Mithril Belt",time:1},{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!1,itemId:"ENCHANTED_MITHRIL",quantity:3,source:u}],hotm:1,itemId:"Mithril Gauntlet",time:1},{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!1,itemId:"REFINED_MINERAL",quantity:16,source:u},{intermediaryCraft:!0,itemId:"REFINED_TITANIUM",quantity:1,source:u},{intermediaryCraft:!0,itemId:"Mithril Necklace",quantity:1,source:E}],hotm:3,itemId:"Titanium Necklace",time:4.5},{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!1,itemId:"REFINED_MINERAL",quantity:16,source:u},{intermediaryCraft:!0,itemId:"REFINED_TITANIUM",quantity:1,source:u},{intermediaryCraft:!0,itemId:"Mithril Cloak",quantity:1,source:E}],hotm:3,itemId:"Titanium Cloak",time:4.5},{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!1,itemId:"REFINED_MINERAL",quantity:16,source:u},{intermediaryCraft:!0,itemId:"REFINED_TITANIUM",quantity:1,source:u},{intermediaryCraft:!0,itemId:"Mithril Belt",quantity:1,source:E}],hotm:3,itemId:"Titanium Belt",time:4.5},{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!1,itemId:"REFINED_MINERAL",quantity:16,source:u},{intermediaryCraft:!0,itemId:"REFINED_TITANIUM",quantity:1,source:u},{intermediaryCraft:!0,itemId:"Mithril Gauntlet",quantity:1,source:E}],hotm:3,itemId:"Titanium Gauntlet",time:4.5},{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!0,itemId:"REFINED_TITANIUM",quantity:2,source:u}],hotm:2,itemId:"Titanium Talisman",time:14},{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!0,itemId:"REFINED_TITANIUM",quantity:6,source:u},{intermediaryCraft:!0,itemId:"Titanium Talisman",quantity:1,source:E}],hotm:3,itemId:"Titanium Ring",time:20},{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!0,itemId:"REFINED_TITANIUM",quantity:12,source:u},{intermediaryCraft:!0,itemId:"Titanium Ring",quantity:1,source:E}],hotm:4,itemId:"Titanium Artifact",time:36},{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!0,itemId:"REFINED_TITANIUM",quantity:20,source:u},{intermediaryCraft:!0,itemId:"Titanium Artifact",quantity:1,source:E}],hotm:5,itemId:"Titanium Relic",time:72},{bazaarItem:!0,craftMaterial:[{intermediaryCraft:!0,itemId:"GLOSSY_GEMSTONE",quantity:32,source:u},{intermediaryCraft:!0,itemId:"REFINED_MINERAL",quantity:32,source:u},{intermediaryCraft:!0,itemId:"DIVAN_FRAGMENT",quantity:5,source:u},{intermediaryCraft:!1,itemId:"ENCHANTED_GOLD_BLOCK",quantity:16,source:u}],hotm:4,itemId:"DIVAN_POWDER_COATING",time:36},{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!1,itemId:"DIVAN_FRAGMENT",quantity:5,source:u},{intermediaryCraft:!0,itemId:"GEMSTONE_MIXTURE",quantity:10,source:u},{intermediaryCraft:!1,itemId:"FLAWLESS_RUBY_GEM",quantity:1,source:u}],hotm:6,itemId:"Helmet Of Divan",time:24},{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!1,itemId:"DIVAN_FRAGMENT",quantity:8,source:u},{intermediaryCraft:!0,itemId:"GEMSTONE_MIXTURE",quantity:10,source:u},{intermediaryCraft:!1,itemId:"FLAWLESS_RUBY_GEM",quantity:1,source:u}],hotm:6,itemId:"Chestplate Of Divan",time:24},{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!1,itemId:"DIVAN_FRAGMENT",quantity:7,source:u},{intermediaryCraft:!0,itemId:"GEMSTONE_MIXTURE",quantity:10,source:u},{intermediaryCraft:!1,itemId:"FLAWLESS_RUBY_GEM",quantity:1,source:u}],hotm:6,itemId:"Leggings Of Divan",time:24},{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!1,itemId:"DIVAN_FRAGMENT",quantity:4,source:u},{intermediaryCraft:!0,itemId:"GEMSTONE_MIXTURE",quantity:10,source:u},{intermediaryCraft:!1,itemId:"FLAWLESS_RUBY_GEM",quantity:1,source:u}],hotm:6,itemId:"Boots Of Divan",time:24},{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!1,itemId:"GLOSSY_GEMSTONE",quantity:32,source:u},{intermediaryCraft:!1,itemId:"FLAWLESS_AMBER_GEM",quantity:2,source:u}],hotm:5,itemId:"Amber Necklace",time:24},{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!1,itemId:"GLOSSY_GEMSTONE",quantity:32,source:u},{intermediaryCraft:!1,itemId:"FLAWLESS_SAPPHIRE_GEM",quantity:2,source:u}],hotm:5,itemId:"Sapphire Cloak",time:24},{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!1,itemId:"GLOSSY_GEMSTONE",quantity:32,source:u},{intermediaryCraft:!1,itemId:"FLAWLESS_JADE_GEM",quantity:2,source:u}],hotm:5,itemId:"Jade Belt",time:24},{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!1,itemId:"GLOSSY_GEMSTONE",quantity:32,source:u},{intermediaryCraft:!1,itemId:"FLAWLESS_AMETHYST_GEM",quantity:2,source:u}],hotm:5,itemId:"Amethyst Gauntlet",time:24},{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!1,itemId:"WORM_MEMBRANE",quantity:100,source:u},{intermediaryCraft:!0,itemId:"GEMSTONE_MIXTURE",quantity:1,source:u},{intermediaryCraft:!1,itemId:"coins",quantity:25e3,source:G}],hotm:5,itemId:"Gemstone Chamber",time:4},{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!1,itemId:"FLAWLESS_JASPER_GEM",quantity:1,source:u},{intermediaryCraft:!1,itemId:"FLAWLESS_AMBER_GEM",quantity:1,source:u},{intermediaryCraft:!0,itemId:"TUNGSTEN_PLATE",quantity:1,source:u},{intermediaryCraft:!0,itemId:"UMBER_PLATE",quantity:1,source:u}],hotm:8,itemId:"Dwarven Handwarmers",time:4},{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!0,itemId:"REFINED_UMBER",quantity:4,source:u},{intermediaryCraft:!0,itemId:"REFINED_TUNGSTEN",quantity:4,source:u},{intermediaryCraft:!0,itemId:"GLACITE_AMALGAMATION",quantity:4,source:u}],hotm:8,itemId:"Dwarven Metal Talisman",time:24},{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!1,itemId:"Shattered Locket",quantity:1,source:E},{intermediaryCraft:!0,itemId:"PERFECT_PLATE",quantity:1,source:u},{intermediaryCraft:!1,itemId:"DIVAN_FRAGMENT",quantity:10,source:u}],hotm:10,itemId:"Pendant Of Divan",time:24*7},{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!1,itemId:"Artifact Of Power",quantity:1,source:E},{intermediaryCraft:!0,itemId:"PERFECT_PLATE",quantity:1,source:u},{intermediaryCraft:!0,itemId:"GLACITE_AMALGAMATION",quantity:32,source:u}],hotm:10,itemId:"Relic Of Power",time:8}],Li=[{bazaarItem:!0,craftMaterial:[{intermediaryCraft:!1,itemId:"FLAWLESS_AMBER_GEM",quantity:5,source:u},{intermediaryCraft:!1,itemId:"Amber Crystal",quantity:1,source:G}],hotm:5,itemId:"PERFECT_AMBER_GEM",time:20},{bazaarItem:!0,craftMaterial:[{intermediaryCraft:!1,itemId:"FLAWLESS_AMETHYST_GEM",quantity:5,source:u},{intermediaryCraft:!1,itemId:"Amethyst Crystal",quantity:1,source:G}],hotm:5,itemId:"PERFECT_AMETHYST_GEM",time:20},{bazaarItem:!0,craftMaterial:[{intermediaryCraft:!1,itemId:"FLAWLESS_JADE_GEM",quantity:5,source:u},{intermediaryCraft:!1,itemId:"Jade Crystal",quantity:1,source:G}],hotm:5,itemId:"PERFECT_JADE_GEM",time:20},{bazaarItem:!0,craftMaterial:[{intermediaryCraft:!1,itemId:"FLAWLESS_JASPER_GEM",quantity:5,source:u},{intermediaryCraft:!1,itemId:"Jasper Crystal",quantity:1,source:G}],hotm:5,itemId:"PERFECT_JASPER_GEM",time:20},{bazaarItem:!0,craftMaterial:[{intermediaryCraft:!1,itemId:"FLAWLESS_OPAL_GEM",quantity:5,source:u},{intermediaryCraft:!1,itemId:"Opal Crystal",quantity:1,source:G}],hotm:5,itemId:"PERFECT_OPAL_GEM",time:20},{bazaarItem:!0,craftMaterial:[{intermediaryCraft:!1,itemId:"FLAWLESS_RUBY_GEM",quantity:5,source:u},{intermediaryCraft:!1,itemId:"Ruby Crystal",quantity:1,source:G}],hotm:5,itemId:"PERFECT_RUBY_GEM",time:20},{bazaarItem:!0,craftMaterial:[{intermediaryCraft:!1,itemId:"FLAWLESS_SAPPHIRE_GEM",quantity:5,source:u},{intermediaryCraft:!1,itemId:"Sapphire Crystal",quantity:1,source:G}],hotm:5,itemId:"PERFECT_SAPPHIRE_GEM",time:20},{bazaarItem:!0,craftMaterial:[{intermediaryCraft:!1,itemId:"FLAWLESS_TOPAZ_GEM",quantity:5,source:u},{intermediaryCraft:!1,itemId:"Topaz Crystal",quantity:1,source:G}],hotm:5,itemId:"PERFECT_TOPAZ_GEM",time:20},{bazaarItem:!0,craftMaterial:[{intermediaryCraft:!1,itemId:"FLAWLESS_ONYX_GEM",quantity:5,source:u},{intermediaryCraft:!1,itemId:"Onyx Crystal",quantity:1,source:G}],hotm:7,itemId:"PERFECT_ONYX_GEM",time:20},{bazaarItem:!0,craftMaterial:[{intermediaryCraft:!1,itemId:"FLAWLESS_CITRINE_GEM",quantity:5,source:u},{intermediaryCraft:!1,itemId:"Citrine Crystal",quantity:1,source:G}],hotm:7,itemId:"PERFECT_CITRINE_GEM",time:20},{bazaarItem:!0,craftMaterial:[{intermediaryCraft:!1,itemId:"FLAWLESS_AQUAMARINE_GEM",quantity:5,source:u},{intermediaryCraft:!1,itemId:"Aquamarine Crystal",quantity:1,source:G}],hotm:7,itemId:"PERFECT_AQUAMARINE_GEM",time:20},{bazaarItem:!0,craftMaterial:[{intermediaryCraft:!1,itemId:"FLAWLESS_PERIDOT_GEM",quantity:5,source:u},{intermediaryCraft:!1,itemId:"Peridot Crystal",quantity:1,source:G}],hotm:7,itemId:"PERFECT_PERIDOT_GEM",time:20}],Fi=[{bazaarItem:!0,craftMaterial:[{intermediaryCraft:!1,itemId:"GLACITE_JEWEL",quantity:3,source:u}],hotm:2,itemId:"BEJEWELED_HANDLE",time:H},{bazaarItem:!0,craftMaterial:[{intermediaryCraft:!1,itemId:"ENCHANTED_IRON_BLOCK",quantity:1,source:u},{intermediaryCraft:!1,itemId:"ENCHANTED_REDSTONE_BLOCK",quantity:3,source:u},{intermediaryCraft:!0,itemId:"GOLDEN_PLATE",quantity:1,source:u},{intermediaryCraft:!1,itemId:"TREASURITE",quantity:10,source:u},{intermediaryCraft:!0,itemId:"REFINED_DIAMOND",quantity:1,source:u}],hotm:2,itemId:"DRILL_ENGINE",time:30},{bazaarItem:!0,craftMaterial:[{intermediaryCraft:!1,itemId:"ENCHANTED_COAL_BLOCK",quantity:2,source:u}],hotm:2,itemId:"FUEL_TANK",time:10},{bazaarItem:!0,craftMaterial:[{intermediaryCraft:!1,itemId:"FINE_JADE_GEM",quantity:4,source:u},{intermediaryCraft:!1,itemId:"FINE_AMBER_GEM",quantity:4,source:u},{intermediaryCraft:!1,itemId:"FINE_AMETHYST_GEM",quantity:4,source:u},{intermediaryCraft:!1,itemId:"FINE_SAPPHIRE_GEM",quantity:4,source:u},{intermediaryCraft:!1,itemId:"SLUDGE_JUICE",quantity:320,source:u}],hotm:4,itemId:"GEMSTONE_MIXTURE",time:4},{bazaarItem:!0,craftMaterial:[{intermediaryCraft:!1,itemId:"FINE_ONYX_GEM",quantity:4,source:u},{intermediaryCraft:!1,itemId:"FINE_CITRINE_GEM",quantity:4,source:u},{intermediaryCraft:!1,itemId:"FINE_PERIDOT_GEM",quantity:4,source:u},{intermediaryCraft:!1,itemId:"FINE_AQUAMARINE_GEM",quantity:4,source:u},{intermediaryCraft:!1,itemId:"ENCHANTED_GLACITE",quantity:256,source:u}],hotm:7,itemId:"GLACITE_AMALGAMATION",time:4},{bazaarItem:!0,craftMaterial:[{intermediaryCraft:!1,itemId:"ENCHANTED_GOLD_BLOCK",quantity:2,source:u},{intermediaryCraft:!1,itemId:"GLACITE_JEWEL",quantity:5,source:u},{intermediaryCraft:!0,itemId:"REFINED_DIAMOND",quantity:1,source:u}],hotm:2,itemId:"GOLDEN_PLATE",time:6},{bazaarItem:!0,craftMaterial:[{intermediaryCraft:!0,itemId:"REFINED_MITHRIL",quantity:5,source:u},{intermediaryCraft:!0,itemId:"GOLDEN_PLATE",quantity:1,source:u},{intermediaryCraft:!1,itemId:"ENCHANTED_IRON_BLOCK",quantity:1,source:u},{intermediaryCraft:!0,itemId:"REFINED_TITANIUM",quantity:1,source:u}],hotm:3,itemId:"MITHRIL_PLATE",time:18},{bazaarItem:!0,craftMaterial:[{intermediaryCraft:!0,itemId:"REFINED_TUNGSTEN",quantity:4,source:u},{intermediaryCraft:!0,itemId:"GLACITE_AMALGAMATION",quantity:1,source:u}],hotm:7,itemId:"TUNGSTEN_PLATE",time:3},{bazaarItem:!0,craftMaterial:[{intermediaryCraft:!0,itemId:"REFINED_UMBER",quantity:4,source:u},{intermediaryCraft:!0,itemId:"GLACITE_AMALGAMATION",quantity:1,source:u}],hotm:7,itemId:"UMBER_PLATE",time:3},{bazaarItem:!0,craftMaterial:[{intermediaryCraft:!0,itemId:"UMBER_PLATE",quantity:1,source:u},{intermediaryCraft:!0,itemId:"TUNGSTEN_PLATE",quantity:1,source:u},{intermediaryCraft:!0,itemId:"MITHRIL_PLATE",quantity:1,source:u}],hotm:10,itemId:"PERFECT_PLATE",time:.5}],Gi=[{bazaarItem:!0,craftMaterial:[{intermediaryCraft:!0,itemId:"REFINED_DIAMOND",quantity:3,source:u}],hotm:2,itemId:"DIAMONITE",time:6},{bazaarItem:!0,craftMaterial:[{intermediaryCraft:!1,itemId:"GLACITE_JEWEL",quantity:5,source:u}],hotm:2,itemId:"POCKET_ICEBERG",time:6},{bazaarItem:!0,craftMaterial:[{intermediaryCraft:!1,itemId:"STARFALL",quantity:512,source:u}],hotm:3,itemId:"PETRIFIED_STARFALL",time:6},{bazaarItem:!0,craftMaterial:[{intermediaryCraft:!0,itemId:"REFINED_MITHRIL",quantity:2,source:u}],hotm:3,itemId:"PURE_MITHRIL",time:6},{bazaarItem:!0,craftMaterial:[{intermediaryCraft:!1,itemId:"ENCHANTED_COBBLESTONE",quantity:128,source:u},{intermediaryCraft:!1,itemId:"TREASURITE",quantity:64,source:u}],hotm:3,itemId:"ROCK_GEMSTONE",time:6},{bazaarItem:!0,craftMaterial:[{intermediaryCraft:!0,itemId:"REFINED_TITANIUM",quantity:1,source:u},{intermediaryCraft:!1,itemId:"ENCHANTED_LAPIS_LAZULI",quantity:16,source:u}],hotm:3,itemId:"TITANIUM_TESSERACT",time:6},{bazaarItem:!0,craftMaterial:[{intermediaryCraft:!1,itemId:"GLOSSY_GEMSTONE",quantity:32,source:u},{intermediaryCraft:!0,itemId:"REFINED_MITHRIL",quantity:1,source:u},{intermediaryCraft:!0,itemId:"REFINED_DIAMOND",quantity:2,source:u}],hotm:4,itemId:"GLEAMING_CRYSTAL",time:6},{bazaarItem:!0,craftMaterial:[{intermediaryCraft:!1,itemId:"HARD_STONE",quantity:128,source:u},{intermediaryCraft:!1,itemId:"FLAWLESS_TOPAZ_GEM",quantity:1,source:u}],hotm:4,itemId:"HOT_STUFF",time:6},{bazaarItem:!0,craftMaterial:[{intermediaryCraft:!1,itemId:"FINE_AMBER_GEM",quantity:12,source:u},{intermediaryCraft:!0,itemId:"GOLDEN_PLATE",quantity:1,source:u}],hotm:6,itemId:"AMBER_MATERIAL",time:6},{bazaarItem:!0,craftMaterial:[{intermediaryCraft:!0,itemId:"GLACITE_AMALGAMATION",quantity:4,source:u},{intermediaryCraft:!1,itemId:"FLAWLESS_ONYX_GEM",quantity:1,source:u}],hotm:7,itemId:"FRIGID_HUSK",time:6}],Bi=[{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!1,itemId:"REFINED_MITHRIL",quantity:4,source:u},{intermediaryCraft:!0,itemId:"BEJEWELED_HANDLE",quantity:1,source:u}],hotm:2,itemId:"Bejeweled Collar",time:2},{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!1,itemId:"Claw Fossil",quantity:1,source:E},{intermediaryCraft:!1,itemId:"coins",quantity:3e5,source:G}],hotm:4,itemId:"Mole Pet",time:3*Ae},{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!1,itemId:"Helix Fossil",quantity:1,source:E},{intermediaryCraft:!1,itemId:"coins",quantity:3e5,source:G}],hotm:4,itemId:"Ammonite Pet",time:3*Ae},{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!1,itemId:"Webbed Fossil",quantity:1,source:E},{intermediaryCraft:!1,itemId:"FLAWLESS_AQUAMARINE_GEM",quantity:1,source:u}],hotm:7,itemId:"Penguin Pet",time:7*Ae},{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!1,itemId:"Footprint Fossil",quantity:1,source:E},{intermediaryCraft:!1,itemId:"FLAWLESS_ONYX_GEM",quantity:1,source:u}],hotm:7,itemId:"T-Rex Pet",time:7*Ae},{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!1,itemId:"Spine Fossil",quantity:1,source:E},{intermediaryCraft:!1,itemId:"FLAWLESS_AQUAMARINE_GEM",quantity:1,source:u}],hotm:7,itemId:"Spinosaurus Pet",time:7*Ae},{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!1,itemId:"Ugly Fossil",quantity:1,source:E},{intermediaryCraft:!1,itemId:"FLAWLESS_AMBER_GEM",quantity:1,source:u}],hotm:7,itemId:"Goblin Pet",time:7*Ae},{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!1,itemId:"Clubbed Fossil",quantity:1,source:E},{intermediaryCraft:!1,itemId:"FLAWLESS_OPAL_GEM",quantity:1,source:u}],hotm:7,itemId:"Ankylosaurus Pet",time:7*Ae},{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!1,itemId:"Tusk Fossil",quantity:1,source:E},{intermediaryCraft:!1,itemId:"FLAWLESS_ONYX_GEM",quantity:1,source:u}],hotm:7,itemId:"Mammoth Pet",time:7*Ae}],xi=[{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!0,itemId:"DRILL_ENGINE",quantity:1,source:u},{intermediaryCraft:!0,itemId:"REFINED_MITHRIL",quantity:3,source:u},{intermediaryCraft:!0,itemId:"FUEL_TANK",quantity:1,source:u}],hotm:2,itemId:"Mithril Drill SX-R226",time:4},{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!0,itemId:"Mithril Drill SX-R226",quantity:1,source:E},{intermediaryCraft:!0,itemId:"GOLDEN_PLATE",quantity:10,source:u},{intermediaryCraft:!0,itemId:"MITHRIL_PLATE",quantity:2,source:u}],hotm:3,itemId:"Mithril Drill SX-R326",time:H},{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!0,itemId:"DRILL_ENGINE",quantity:1,source:u},{intermediaryCraft:!0,itemId:"FUEL_TANK",quantity:1,source:u},{intermediaryCraft:!1,itemId:"FINE_RUBY_GEM",quantity:6,source:u}],hotm:4,itemId:"Ruby Drill TX-15",time:4},{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!0,itemId:"Ruby Drill TX-15",quantity:1,source:E},{intermediaryCraft:!0,itemId:"GEMSTONE_MIXTURE",quantity:3,source:u}],hotm:4,itemId:"Gemstone Drill LT-522",time:H},{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!0,itemId:"Gemstone Drill LT-522",quantity:1,source:E},{intermediaryCraft:!1,itemId:"FLAWLESS_TOPAZ_GEM",quantity:1,source:u},{intermediaryCraft:!0,itemId:"GEMSTONE_MIXTURE",quantity:3,source:u},{intermediaryCraft:!1,itemId:"MAGMA_CORE",quantity:5,source:u}],hotm:5,itemId:"Topaz Drill KGR-12",time:H},{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!0,itemId:"Topaz Drill KGR-12",quantity:1,source:E},{intermediaryCraft:!1,itemId:"FLAWLESS_JASPER_GEM",quantity:1,source:u},{intermediaryCraft:!1,itemId:"TREASURITE",quantity:100,source:u}],hotm:6,itemId:"Jasper Drill X",time:H},{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!1,itemId:"FLAWLESS_TOPAZ_GEM",quantity:2,source:u},{intermediaryCraft:!0,itemId:"BEJEWELED_HANDLE",quantity:3,source:u}],hotm:5,itemId:"Polished Topaz Rod",time:12},{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!0,itemId:"DRILL_ENGINE",quantity:1,source:u},{intermediaryCraft:!0,itemId:"FUEL_TANK",quantity:1,source:u},{intermediaryCraft:!0,itemId:"GOLDEN_PLATE",quantity:6,source:u},{intermediaryCraft:!0,itemId:"REFINED_TITANIUM",quantity:10,source:u},{intermediaryCraft:!0,itemId:"REFINED_MITHRIL",quantity:10,source:u}],hotm:5,itemId:"Titanium Drill DR-X355",time:4},{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!0,itemId:"Titanium Drill DR-X355",quantity:1,source:E},{intermediaryCraft:!0,itemId:"REFINED_DIAMOND",quantity:10,source:u},{intermediaryCraft:!0,itemId:"REFINED_TITANIUM",quantity:16,source:u},{intermediaryCraft:!0,itemId:"MITHRIL_PLATE",quantity:6,source:u}],hotm:5,itemId:"Titanium Drill DR-X455",time:H},{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!0,itemId:"Titanium Drill DR-X455",quantity:1,source:E},{intermediaryCraft:!0,itemId:"REFINED_DIAMOND",quantity:20,source:u},{intermediaryCraft:!0,itemId:"REFINED_TITANIUM",quantity:32,source:u},{intermediaryCraft:!1,itemId:"ENCHANTED_IRON_BLOCK",quantity:2,source:u},{intermediaryCraft:!0,itemId:"MITHRIL_PLATE",quantity:15,source:u},{intermediaryCraft:!1,itemId:"PLASMA",quantity:20,source:u}],hotm:5,itemId:"Titanium Drill DR-X555",time:H},{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!0,itemId:"Titanium Drill DR-X555",quantity:1,source:E},{intermediaryCraft:!1,itemId:"CORLEONITE",quantity:30,source:u},{intermediaryCraft:!1,itemId:"FLAWLESS_RUBY_GEM",quantity:1,source:u},{intermediaryCraft:!0,itemId:"REFINED_DIAMOND",quantity:5,source:u},{intermediaryCraft:!0,itemId:"GEMSTONE_MIXTURE",quantity:16,source:u},{intermediaryCraft:!0,itemId:"REFINED_TITANIUM",quantity:12,source:u},{intermediaryCraft:!0,itemId:"MITHRIL_PLATE",quantity:5,source:u}],hotm:6,itemId:"Titanium Drill DR-X655",time:H},{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!0,itemId:"BEJEWELED_HANDLE",quantity:1,source:u},{intermediaryCraft:!1,itemId:"TUNGSTEN_ORE",quantity:64,source:u}],hotm:7,itemId:"Chisel",time:4},{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!0,itemId:"Chisel",quantity:1,source:E},{intermediaryCraft:!0,itemId:"REFINED_TUNGSTEN",quantity:2,source:u},{intermediaryCraft:!0,itemId:"REFINED_UMBER",quantity:2,source:u},{intermediaryCraft:!0,itemId:"BEJEWELED_HANDLE",quantity:1,source:u}],hotm:8,itemId:"Reinforced Chisel",time:H},{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!0,itemId:"Reinforced Chisel",quantity:1,source:E},{intermediaryCraft:!0,itemId:"GLACITE_AMALGAMATION",quantity:8,source:u},{intermediaryCraft:!0,itemId:"MITHRIL_PLATE",quantity:1,source:u},{intermediaryCraft:!0,itemId:"BEJEWELED_HANDLE",quantity:1,source:u}],hotm:9,itemId:"Glacite-Plated Chisel",time:H},{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!0,itemId:"Glacite-Plated Chisel",quantity:1,source:E},{intermediaryCraft:!0,itemId:"PERFECT_PLATE",quantity:1,source:u},{intermediaryCraft:!0,itemId:"BEJEWELED_HANDLE",quantity:1,source:u}],hotm:10,itemId:"Perfect Chisel",time:H},{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!1,itemId:"Divan's Alloy",quantity:1,source:E},{intermediaryCraft:!0,itemId:"Titanium Drill DR-X655",quantity:1,source:E},{intermediaryCraft:!1,itemId:"coins",quantity:5e7,source:G}],hotm:7,itemId:"Divan's Drill",time:H}],qi=[{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!1,itemId:"TREASURITE",quantity:16,source:u},{intermediaryCraft:!1,itemId:"STARFALL",quantity:64,source:u}],hotm:2,itemId:"Starfall Seasoning",time:18},{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!1,itemId:"GOBLIN_EGG",quantity:99,source:u}],hotm:3,itemId:"Goblin Omelette",time:18},{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!1,itemId:"FLAWLESS_SAPPHIRE_GEM",quantity:1,source:u},{intermediaryCraft:!1,itemId:"GOBLIN_EGG_BLUE",quantity:96,source:u},{intermediaryCraft:!0,itemId:"Goblin Omelette",quantity:1,source:E}],hotm:5,itemId:"Blue Cheese Goblin Omelette",time:18},{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!1,itemId:"GOBLIN_EGG_GREEN",quantity:96,source:u},{intermediaryCraft:!1,itemId:"FLAWLESS_JADE_GEM",quantity:1,source:u},{intermediaryCraft:!0,itemId:"Goblin Omelette",quantity:1,source:E}],hotm:5,itemId:"Pesto Goblin Omelette",time:18},{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!1,itemId:"GOBLIN_EGG_RED",quantity:96,source:u},{intermediaryCraft:!1,itemId:"FLAWLESS_RUBY_GEM",quantity:1,source:u},{intermediaryCraft:!0,itemId:"Goblin Omelette",quantity:1,source:E}],hotm:5,itemId:"Spicy Goblin Omelette",time:18},{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!1,itemId:"GOBLIN_EGG_YELLOW",quantity:96,source:u},{intermediaryCraft:!1,itemId:"FLAWLESS_TOPAZ_GEM",quantity:1,source:u},{intermediaryCraft:!0,itemId:"Goblin Omelette",quantity:1,source:E}],hotm:5,itemId:"Sunny Side Goblin Omelette",time:18},{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!0,itemId:"FUEL_TANK",quantity:5,source:u},{intermediaryCraft:!0,itemId:"PERFECT_OPAL_GEM",quantity:1,source:u},{intermediaryCraft:!0,itemId:"TUNGSTEN_PLATE",quantity:5,source:u}],hotm:8,itemId:"Tungsten Regulator",time:18},{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!0,itemId:"DRILL_ENGINE",quantity:2,source:u},{intermediaryCraft:!0,itemId:"MITHRIL_PLATE",quantity:1,source:u}],hotm:3,itemId:"Mithril-Plated Drill Engine",time:24},{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!0,itemId:"DRILL_ENGINE",quantity:2,source:u},{intermediaryCraft:!0,itemId:"Mithril-Plated Drill Engine",quantity:1,source:E},{intermediaryCraft:!0,itemId:"REFINED_TITANIUM",quantity:8,source:u}],hotm:5,itemId:"Titanium-Plated Drill Engine",time:H},{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!0,itemId:"Titanium-Plated Drill Engine",quantity:1,source:E},{intermediaryCraft:!1,itemId:"PRECURSOR_APPARATUS",quantity:4,source:u},{intermediaryCraft:!0,itemId:"PERFECT_RUBY_GEM",quantity:1,source:u},{intermediaryCraft:!0,itemId:"DRILL_ENGINE",quantity:2,source:u}],hotm:7,itemId:"Ruby-polished Drill Engine",time:H},{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!0,itemId:"Ruby-polished Drill Engine",quantity:1,source:E},{intermediaryCraft:!0,itemId:"DRILL_ENGINE",quantity:5,source:u},{intermediaryCraft:!1,itemId:"PRECURSOR_APPARATUS",quantity:8,source:u},{intermediaryCraft:!0,itemId:"PERFECT_SAPPHIRE_GEM",quantity:3,source:u},{intermediaryCraft:!1,itemId:"PLASMA",quantity:5,source:u}],hotm:8,itemId:"Sapphire-polished Drill Engine",time:H},{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!0,itemId:"Sapphire-polished Drill Engine",quantity:1,source:E},{intermediaryCraft:!0,itemId:"PERFECT_AMBER_GEM",quantity:5,source:u},{intermediaryCraft:!1,itemId:"PRECURSOR_APPARATUS",quantity:16,source:u},{intermediaryCraft:!0,itemId:"DRILL_ENGINE",quantity:5,source:u},{intermediaryCraft:!1,itemId:"PLASMA",quantity:32,source:u}],hotm:9,itemId:"Amber-polished Drill Engine",time:H},{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!0,itemId:"REFINED_DIAMOND",quantity:5,source:u},{intermediaryCraft:!0,itemId:"REFINED_MITHRIL",quantity:10,source:u},{intermediaryCraft:!0,itemId:"FUEL_TANK",quantity:5,source:u}],hotm:3,itemId:"Mithril-Infused Fuel Tank",time:24},{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!0,itemId:"Mithril-Infused Fuel Tank",quantity:1,source:E},{intermediaryCraft:!0,itemId:"REFINED_TITANIUM",quantity:10,source:u},{intermediaryCraft:!0,itemId:"REFINED_DIAMOND",quantity:5,source:u},{intermediaryCraft:!0,itemId:"FUEL_TANK",quantity:5,source:u}],hotm:5,itemId:"Titanium-Infused Fuel Tank",time:H},{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!0,itemId:"Titanium-Infused Fuel Tank",quantity:1,source:E},{intermediaryCraft:!1,itemId:"PRECURSOR_APPARATUS",quantity:4,source:u},{intermediaryCraft:!0,itemId:"GEMSTONE_MIXTURE",quantity:10,source:u}],hotm:7,itemId:"Gemstone Fuel Tank",time:H},{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!0,itemId:"Gemstone Fuel Tank",quantity:1,source:E},{intermediaryCraft:!0,itemId:"GEMSTONE_MIXTURE",quantity:25,source:u},{intermediaryCraft:!1,itemId:"PRECURSOR_APPARATUS",quantity:16,source:u},{intermediaryCraft:!1,itemId:"PLASMA",quantity:32,source:u}],hotm:8,itemId:"Perfectly-Cut Fuel Tank",time:H}],ki=[{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!1,itemId:"Beacon I",quantity:1,source:E},{intermediaryCraft:!0,itemId:"REFINED_MITHRIL",quantity:5,source:u}],hotm:2,itemId:"Beacon II",time:20},{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!0,itemId:"Beacon II",quantity:1,source:E},{intermediaryCraft:!0,itemId:"REFINED_MITHRIL",quantity:10,source:u}],hotm:3,itemId:"Beacon III",time:30},{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!0,itemId:"Beacon III",quantity:1,source:E},{intermediaryCraft:!0,itemId:"REFINED_MITHRIL",quantity:20,source:u},{intermediaryCraft:!1,itemId:"PLASMA",quantity:1,source:u}],hotm:4,itemId:"Beacon IV",time:40},{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!0,itemId:"Beacon IV",quantity:1,source:E},{intermediaryCraft:!0,itemId:"REFINED_MITHRIL",quantity:40,source:u},{intermediaryCraft:!1,itemId:"PLASMA",quantity:5,source:u}],hotm:5,itemId:"Beacon V",time:50},{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!1,itemId:"MITHRIL_ORE",quantity:48,source:u},{intermediaryCraft:!1,itemId:"TITANIUM_ORE",quantity:80,source:u},{intermediaryCraft:!1,itemId:"ENCHANTED_ENDER_PEARL",quantity:16,source:u},{intermediaryCraft:!1,itemId:"coins",quantity:25e3,source:G}],hotm:2,itemId:"Travel Scroll to the Dwarven Forge",time:5},{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!1,itemId:"FLAWLESS_ONYX_GEM",quantity:1,source:u},{intermediaryCraft:!1,itemId:"ENCHANTED_ENDER_PEARL",quantity:16,source:u},{intermediaryCraft:!1,itemId:"coins",quantity:5e5,source:G}],hotm:7,itemId:"Travel Scroll to the Dwarven Base Camp",time:10},{bazaarItem:!0,craftMaterial:[{intermediaryCraft:!1,itemId:"STARFALL",quantity:256,source:u}],hotm:2,itemId:"POWER_CRYSTAL",time:2},{bazaarItem:!0,craftMaterial:[{intermediaryCraft:!1,itemId:"ENCHANTED_TUNGSTEN",quantity:192,source:u},{intermediaryCraft:!0,itemId:"BEJEWELED_HANDLE",quantity:1,source:u}],hotm:7,itemId:"TUNGSTEN_KEY",time:H},{bazaarItem:!0,craftMaterial:[{intermediaryCraft:!1,itemId:"ENCHANTED_UMBER",quantity:192,source:u},{intermediaryCraft:!0,itemId:"BEJEWELED_HANDLE",quantity:1,source:u}],hotm:7,itemId:"UMBER_KEY",time:H},{bazaarItem:!0,craftMaterial:[{intermediaryCraft:!0,itemId:"PERFECT_PLATE",quantity:1,source:u},{intermediaryCraft:!0,itemId:"BEJEWELED_HANDLE",quantity:1,source:u}],hotm:10,itemId:"SKELETON_KEY",time:.5},{bazaarItem:!1,craftMaterial:[{intermediaryCraft:!0,itemId:"REFINED_UMBER",quantity:1,source:u},{intermediaryCraft:!1,itemId:"MATCH_STICKS",quantity:16,source:u}],hotm:8,itemId:"Portable Campfire",time:.5}],Ui=0,Ki=100,Hi=200,zi=300,Wi=400,ji=500,Ji=600,Yi=700,Xi=800,$t=[...wi.map((e,t)=>({...e,category:"refining",id:t+Ui})),...Oi.map((e,t)=>({...e,category:"gear",id:t+Ki})),...Li.map((e,t)=>({...e,category:"gemstone",id:t+Hi})),...Fi.map((e,t)=>({...e,category:"forging",id:t+zi})),...Gi.map((e,t)=>({...e,category:"stones",id:t+Wi})),...Bi.map((e,t)=>({...e,category:"pets",id:t+ji})),...xi.map((e,t)=>({...e,category:"tools",id:t+Ji})),...qi.map((e,t)=>({...e,category:"drill parts",id:t+Yi})),...ki.map((e,t)=>({...e,category:"other",id:t+Xi}))],Vi={items:{AMBER_MATERIAL:"Amber Material","Amber Crystal":"Amber Crystal","Amber Necklace":"Amber Necklace","Amber-polished Drill Engine":"Amber-polished Drill Engine","Amethyst Crystal":"Amethyst Crystal","Amethyst Gauntlet":"Amethyst Gauntlet","Ammonite Pet":"Ammonite Pet","Ankylosaurus Pet":"Ankylosaurus Pet","Aquamarine Crystal":"Aquamarine Crystal","Artifact Of Power":"Artifact Of Power",BEJEWELED_HANDLE:"Bejeweled Handle","Beacon I":"Beacon I","Beacon II":"Beacon II","Beacon III":"Beacon III","Beacon IV":"Beacon IV","Beacon V":"Beacon V","Bejeweled Collar":"Bejeweled Collar","Blue Cheese Goblin Omelette":"Blue Cheese Goblin Omelette","Boots Of Divan":"Boots Of Divan",CORLEONITE:"Corleonite","Chestplate Of Divan":"Chestplate Of Divan",Chisel:"Chisel","Citrine Crystal":"Citrine Crystal","Claw Fossil":"Claw Fossil","Clubbed Fossil":"Clubbed Fossil",DIAMONITE:"Diamonite",DIVAN_FRAGMENT:"Divan Fragment",DIVAN_POWDER_COATING:"Divan Powder Coating",DRILL_ENGINE:"Drill Motor","Divan's Alloy":"Divan's Alloy","Divan's Drill":"Divan's Drill","Dwarven Handwarmers":"Dwarven Handwarmers","Dwarven Metal Talisman":"Dwarven Metal Talisman",ENCHANTED_COAL_BLOCK:"Enchanted Block of Coal",ENCHANTED_COBBLESTONE:"Enchanted Cobblestone",ENCHANTED_DIAMOND_BLOCK:"Enchanted Diamond Block",ENCHANTED_ENDER_PEARL:"Enchanted Ender Pearl",ENCHANTED_GLACITE:"Enchanted Glacite",ENCHANTED_GOLD_BLOCK:"Enchanted Gold Block",ENCHANTED_IRON_BLOCK:"Enchanted Iron Block",ENCHANTED_LAPIS_LAZULI:"Enchanted Lapis Lazuli",ENCHANTED_MITHRIL:"Enchanted Mithril",ENCHANTED_REDSTONE_BLOCK:"Enchanted Redstone Block",ENCHANTED_TITANIUM:"Enchanted Titanium",ENCHANTED_TUNGSTEN:"Enchanted Tungsten",ENCHANTED_UMBER:"Enchanted Umber",FINE_AMBER_GEM:"Fine Amber Gemstone",FINE_AMETHYST_GEM:"Fine Amethyst Gemstone",FINE_AQUAMARINE_GEM:"Fine Aquamarine Gemstone",FINE_CITRINE_GEM:"Fine Citrine Gemstone",FINE_JADE_GEM:"Fine Jade Gemstone",FINE_ONYX_GEM:"Fine Onyx Gemstone",FINE_PERIDOT_GEM:"Fine Peridot Gemstone",FINE_RUBY_GEM:"Fine Ruby Gemstone",FINE_SAPPHIRE_GEM:"Fine Sapphire Gemstone",FLAWLESS_AMBER_GEM:"Flawless Amber Gemstone",FLAWLESS_AMETHYST_GEM:"Flawless Amethyst Gemstone",FLAWLESS_AQUAMARINE_GEM:"Flawless Aquamarine Gemstone",FLAWLESS_CITRINE_GEM:"Flawless Citrine Gemstone",FLAWLESS_JADE_GEM:"Flawless Jade Gemstone",FLAWLESS_JASPER_GEM:"Flawless Jasper Gemstone",FLAWLESS_ONYX_GEM:"Flawless Onyx Gemstone",FLAWLESS_OPAL_GEM:"Flawless Opal Gemstone",FLAWLESS_PERIDOT_GEM:"Flawless Peridot Gemstone",FLAWLESS_RUBY_GEM:"Flawless Ruby Gemstone",FLAWLESS_SAPPHIRE_GEM:"Flawless Sapphire Gemstone",FLAWLESS_TOPAZ_GEM:"Flawless Topaz Gemstone",FRIGID_HUSK:"Frigid Husk",FUEL_TANK:"Fuel Canister","Footprint Fossil":"Footprint Fossil",GEMSTONE_MIXTURE:"Gemstone Mixture",GLACITE_AMALGAMATION:"Glacite Amalgamation",GLACITE_JEWEL:"Glacite Jewel",GLEAMING_CRYSTAL:"Gleaming Crystal",GLOSSY_GEMSTONE:"Glossy Gemstone",GOBLIN_EGG:"Goblin Egg",GOBLIN_EGG_BLUE:"Blue Goblin Egg",GOBLIN_EGG_GREEN:"Green Goblin Egg",GOBLIN_EGG_RED:"Red Goblin Egg",GOBLIN_EGG_YELLOW:"Yellow Goblin Egg",GOLDEN_PLATE:"Golden Plate","Gemstone Chamber":"Gemstone Chamber","Gemstone Drill LT-522":"Gemstone Drill LT-522","Gemstone Fuel Tank":"Gemstone Fuel Tank","Glacite-Plated Chisel":"Glacite-Plated Chisel","Goblin Omelette":"Goblin Omelette","Goblin Pet":"Goblin Pet",HARD_STONE:"Hard Stone",HOT_STUFF:"Scorched Topaz","Helix Fossil":"Helix Fossil","Helmet Of Divan":"Helmet Of Divan","Jade Belt":"Jade Belt","Jade Crystal":"Jade Crystal","Jasper Crystal":"Jasper Crystal","Jasper Drill X":"Jasper Drill X","Leggings Of Divan":"Leggings Of Divan",MAGMA_CORE:"Magma Core",MATCH_STICKS:"Match Sticks",MITHRIL_ORE:"Mithril",MITHRIL_PLATE:"Mithril Plate","Mammoth Pet":"Mammoth Pet","Mithril Belt":"Mithril Belt","Mithril Cloak":"Mithril Cloak","Mithril Drill SX-R226":"Mithril Drill SX-R226","Mithril Drill SX-R326":"Mithril Drill SX-R326","Mithril Gauntlet":"Mithril Gauntlet","Mithril Necklace":"Mithril Necklace","Mithril-Infused Fuel Tank":"Mithril-Infused Fuel Tank","Mithril-Plated Drill Engine":"Mithril-Plated Drill Engine","Mole Pet":"Mole Pet","Onyx Crystal":"Onyx Crystal","Opal Crystal":"Opal Crystal",PERFECT_AMBER_GEM:"Perfect Amber Gemstone",PERFECT_AMETHYST_GEM:"Perfect Amethyst Gemstone",PERFECT_AQUAMARINE_GEM:"Perfect Aquamarine Gemstone",PERFECT_CITRINE_GEM:"Perfect Citrine Gemstone",PERFECT_JADE_GEM:"Perfect Jade Gemstone",PERFECT_JASPER_GEM:"Perfect Jasper Gemstone",PERFECT_ONYX_GEM:"Perfect Onyx Gemstone",PERFECT_OPAL_GEM:"Perfect Opal Gemstone",PERFECT_PERIDOT_GEM:"Perfect Peridot Gemstone",PERFECT_PLATE:"Perfect Plate",PERFECT_RUBY_GEM:"Perfect Ruby Gemstone",PERFECT_SAPPHIRE_GEM:"Perfect Sapphire Gemstone",PERFECT_TOPAZ_GEM:"Perfect Topaz Gemstone",PETRIFIED_STARFALL:"Petrified Starfall",PLASMA:"Plasma",POCKET_ICEBERG:"Pocket Iceberg",POWER_CRYSTAL:"Power Crystal",PRECURSOR_APPARATUS:"Precursor Apparatus",PURE_MITHRIL:"Pure Mithril","Pendant Of Divan":"Pendant Of Divan","Penguin Pet":"Penguin Pet","Perfect Chisel":"Perfect Chisel","Perfectly-Cut Fuel Tank":"Perfectly-Cut Fuel Tank","Peridot Crystal":"Peridot Crystal","Pesto Goblin Omelette":"Pesto Goblin Omelette","Polished Topaz Rod":"Polished Topaz Rod","Portable Campfire":"Portable Campfire",REFINED_DIAMOND:"Refined Diamond",REFINED_MINERAL:"Refined Mineral",REFINED_MITHRIL:"Refined Mithril",REFINED_TITANIUM:"Refined Titanium",REFINED_TUNGSTEN:"Refined Tungsten",REFINED_UMBER:"Refined Umber",ROCK_GEMSTONE:"Dwarven Geode","Reinforced Chisel":"Reinforced Chisel","Relic Of Power":"Relic Of Power","Ruby Crystal":"Ruby Crystal","Ruby Drill TX-15":"Ruby Drill TX-15","Ruby-polished Drill Engine":"Ruby-polished Drill Engine",SKELETON_KEY:"Skeleton Key",SLUDGE_JUICE:"Sludge Juice",STARFALL:"Starfall","Sapphire Cloak":"Sapphire Cloak","Sapphire Crystal":"Sapphire Crystal","Sapphire-polished Drill Engine":"Sapphire-polished Drill Engine","Shattered Locket":"Shattered Locket","Spicy Goblin Omelette":"Spicy Goblin Omelette","Spine Fossil":"Spine Fossil","Spinosaurus Pet":"Spinosaurus Pet","Starfall Seasoning":"Starfall Seasoning","Sunny Side Goblin Omelette":"Sunny Side Goblin Omelette","T-Rex Pet":"T-Rex Pet",TITANIUM_ORE:"Titanium",TITANIUM_TESSERACT:"Titanium Tesseract",TREASURITE:"Treasurite",TUNGSTEN_KEY:"Tungsten Key",TUNGSTEN_ORE:"Tungsten",TUNGSTEN_PLATE:"Tungsten Plate","Titanium Artifact":"Titanium Artifact","Titanium Belt":"Titanium Belt","Titanium Cloak":"Titanium Cloak","Titanium Drill DR-X355":"Titanium Drill DR-X355","Titanium Drill DR-X455":"Titanium Drill DR-X455","Titanium Drill DR-X555":"Titanium Drill DR-X555","Titanium Drill DR-X655":"Titanium Drill DR-X655","Titanium Gauntlet":"Titanium Gauntlet","Titanium Necklace":"Titanium Necklace","Titanium Relic":"Titanium Relic","Titanium Ring":"Titanium Ring","Titanium Talisman":"Titanium Talisman","Titanium-Infused Fuel Tank":"Titanium-Infused Fuel Tank","Titanium-Plated Drill Engine":"Titanium-Plated Drill Engine","Topaz Crystal":"Topaz Crystal","Topaz Drill KGR-12":"Topaz Drill KGR-12","Travel Scroll to the Dwarven Base Camp":"Travel Scroll to the Dwarven Base Camp","Travel Scroll to the Dwarven Forge":"Travel Scroll to the Dwarven Forge","Tungsten Regulator":"Tungsten Regulator","Tusk Fossil":"Tusk Fossil",UMBER_KEY:"Umber Key",UMBER_PLATE:"Umber Plate","Ugly Fossil":"Ugly Fossil",WORM_MEMBRANE:"Worm Membrane","Webbed Fossil":"Webbed Fossil",coins:"Coins"},notification:{timerEnded:"Your {0} timer has ended",timerStarted:"Starting timer for {0}"},ui:{amount:"Amount",auction:"Auction",bazaar:"Bazaar",categoryDrillParts:"Drill Parts",categoryForging:"Forging",categoryGear:"Gears",categoryGemstone:"Perfect Gemstones",categoryOther:"Other",categoryPets:"Pets",categoryRefining:"Refining",categoryStones:"Reforge Stones",categoryTools:"Tools",craftCost:"Crafting cost",filters:"Filters",hotm:"HOTM",hour:"H",item:"Item",itemPrice:"Item price",options:{auctionsBINOnlyDescription:"Use BINs Auctions only for material.",auctionsBINOnlyLabel:"BINs material",forceRefresh:"Force refresh",hotmDescription:"Set your HOTM level.",hotmLabel:"HOTM Level",includeAuctionsFlipDescription:"Include Auctions-only craft.",includeAuctionsFlipLabel:"Auctions Craft",includePerfectGemsDescription:"Include perfect gemstone craft.",includePerfectGemsLabel:"Perfect Gemstone",intermediateCraftDescription:"Craft intermediary material instead of buying-it.",intermediateCraftLabel:"Intermediary Craft",languageDescription:"Only the interface is translated, the item names are in english.",languageLabel:"Language",languageOptionEnglish:"English",languageOptionFrench:"French",maxCraftingCostDescription:"Limit to max crafting cost. Set to 0 to disable",maxCraftingCostLabel:"Max crafting cost",playFrequencyDescription:"Adjust your play-frequency to profit calculation.",playFrequencyLabel:"Play frequency",playFrequencyOptionEveryday:"Once every day",playFrequencyOptionLess:"Occasionally",playFrequencyOptionNonStop:"Non-stop",playFrequencyOptionThreeTime:"Three-time per days",playFrequencyOptionTwice:"Twice a day",quickForgeDescription:"Quick Forge perks level. Current bonus",quickForgeLabel:"Quick Forge",title:"Options"},profit:"Profit",profitByTimeEveryday:"Profit per day",profitByTimeNonStop:"Profit per hour",profitByTimeThreeTime:"Profits for 8h",profitByTimeTwice:"Profits for 12h",sell:"Sell",sellPrice:"Sell price",shoppingList:"Shopping list",time:"Duration",timer:"Timer",timerButton:"Start timer",title:"HyPixel Skyblock's Forge Stonks",totalPrice:"Total price",type:"Type",vendor:"Vendor"}},Qi={items:{AMBER_MATERIAL:"Amber Material","Amber Crystal":"Amber Crystal","Amber Necklace":"Amber Necklace","Amber-polished Drill Engine":"Amber-polished Drill Engine","Amethyst Crystal":"Amethyst Crystal","Amethyst Gauntlet":"Amethyst Gauntlet","Ammonite Pet":"Ammonite Pet","Ankylosaurus Pet":"Ankylosaurus Pet","Aquamarine Crystal":"Aquamarine Crystal","Artifact Of Power":"Artifact Of Power",BEJEWELED_HANDLE:"Bejeweled Handle","Beacon I":"Beacon I","Beacon II":"Beacon II","Beacon III":"Beacon III","Beacon IV":"Beacon IV","Beacon V":"Beacon V","Bejeweled Collar":"Bejeweled Collar","Blue Cheese Goblin Omelette":"Blue Cheese Goblin Omelette","Boots Of Divan":"Boots Of Divan",CORLEONITE:"Corleonite","Chestplate Of Divan":"Chestplate Of Divan",Chisel:"Chisel","Citrine Crystal":"Citrine Crystal","Claw Fossil":"Claw Fossil","Clubbed Fossil":"Clubbed Fossil",DIAMONITE:"Diamonite",DIVAN_FRAGMENT:"Divan Fragment",DIVAN_POWDER_COATING:"Divan Powder Coating",DRILL_ENGINE:"Drill Motor","Divan's Alloy":"Divan's Alloy","Divan's Drill":"Divan's Drill","Dwarven Handwarmers":"Dwarven Handwarmers","Dwarven Metal Talisman":"Dwarven Metal Talisman",ENCHANTED_COAL_BLOCK:"Enchanted Block of Coal",ENCHANTED_COBBLESTONE:"Enchanted Cobblestone",ENCHANTED_DIAMOND_BLOCK:"Enchanted Diamond Block",ENCHANTED_ENDER_PEARL:"Enchanted Ender Pearl",ENCHANTED_GLACITE:"Enchanted Glacite",ENCHANTED_GOLD_BLOCK:"Enchanted Gold Block",ENCHANTED_IRON_BLOCK:"Enchanted Iron Block",ENCHANTED_LAPIS_LAZULI:"Enchanted Lapis Lazuli",ENCHANTED_MITHRIL:"Enchanted Mithril",ENCHANTED_REDSTONE_BLOCK:"Enchanted Redstone Block",ENCHANTED_TITANIUM:"Enchanted Titanium",ENCHANTED_TUNGSTEN:"Enchanted Tungsten",ENCHANTED_UMBER:"Enchanted Umber",FINE_AMBER_GEM:"Fine Amber Gemstone",FINE_AMETHYST_GEM:"Fine Amethyst Gemstone",FINE_AQUAMARINE_GEM:"Fine Aquamarine Gemstone",FINE_CITRINE_GEM:"Fine Citrine Gemstone",FINE_JADE_GEM:"Fine Jade Gemstone",FINE_ONYX_GEM:"Fine Onyx Gemstone",FINE_PERIDOT_GEM:"Fine Peridot Gemstone",FINE_RUBY_GEM:"Fine Ruby Gemstone",FINE_SAPPHIRE_GEM:"Fine Sapphire Gemstone",FLAWLESS_AMBER_GEM:"Flawless Amber Gemstone",FLAWLESS_AMETHYST_GEM:"Flawless Amethyst Gemstone",FLAWLESS_AQUAMARINE_GEM:"Flawless Aquamarine Gemstone",FLAWLESS_CITRINE_GEM:"Flawless Citrine Gemstone",FLAWLESS_JADE_GEM:"Flawless Jade Gemstone",FLAWLESS_JASPER_GEM:"Flawless Jasper Gemstone",FLAWLESS_ONYX_GEM:"Flawless Onyx Gemstone",FLAWLESS_OPAL_GEM:"Flawless Opal Gemstone",FLAWLESS_PERIDOT_GEM:"Flawless Peridot Gemstone",FLAWLESS_RUBY_GEM:"Flawless Ruby Gemstone",FLAWLESS_SAPPHIRE_GEM:"Flawless Sapphire Gemstone",FLAWLESS_TOPAZ_GEM:"Flawless Topaz Gemstone",FRIGID_HUSK:"Frigid Husk",FUEL_TANK:"Fuel Canister","Footprint Fossil":"Footprint Fossil",GEMSTONE_MIXTURE:"Gemstone Mixture",GLACITE_AMALGAMATION:"Glacite Amalgamation",GLACITE_JEWEL:"Glacite Jewel",GLEAMING_CRYSTAL:"Gleaming Crystal",GLOSSY_GEMSTONE:"Glossy Gemstone",GOBLIN_EGG:"Goblin Egg",GOBLIN_EGG_BLUE:"Blue Goblin Egg",GOBLIN_EGG_GREEN:"Green Goblin Egg",GOBLIN_EGG_RED:"Red Goblin Egg",GOBLIN_EGG_YELLOW:"Yellow Goblin Egg",GOLDEN_PLATE:"Golden Plate","Gemstone Chamber":"Gemstone Chamber","Gemstone Drill LT-522":"Gemstone Drill LT-522","Gemstone Fuel Tank":"Gemstone Fuel Tank","Glacite-Plated Chisel":"Glacite-Plated Chisel","Goblin Omelette":"Goblin Omelette","Goblin Pet":"Goblin Pet",HARD_STONE:"Hard Stone",HOT_STUFF:"Scorched Topaz","Helix Fossil":"Helix Fossil","Helmet Of Divan":"Helmet Of Divan","Jade Belt":"Jade Belt","Jade Crystal":"Jade Crystal","Jasper Crystal":"Jasper Crystal","Jasper Drill X":"Jasper Drill X","Leggings Of Divan":"Leggings Of Divan",MAGMA_CORE:"Magma Core",MATCH_STICKS:"Match Sticks",MITHRIL_ORE:"Mithril",MITHRIL_PLATE:"Mithril Plate","Mammoth Pet":"Mammoth Pet","Mithril Belt":"Mithril Belt","Mithril Cloak":"Mithril Cloak","Mithril Drill SX-R226":"Mithril Drill SX-R226","Mithril Drill SX-R326":"Mithril Drill SX-R326","Mithril Gauntlet":"Mithril Gauntlet","Mithril Necklace":"Mithril Necklace","Mithril-Infused Fuel Tank":"Mithril-Infused Fuel Tank","Mithril-Plated Drill Engine":"Mithril-Plated Drill Engine","Mole Pet":"Mole Pet","Onyx Crystal":"Onyx Crystal","Opal Crystal":"Opal Crystal",PERFECT_AMBER_GEM:"Perfect Amber Gemstone",PERFECT_AMETHYST_GEM:"Perfect Amethyst Gemstone",PERFECT_AQUAMARINE_GEM:"Perfect Aquamarine Gemstone",PERFECT_CITRINE_GEM:"Perfect Citrine Gemstone",PERFECT_JADE_GEM:"Perfect Jade Gemstone",PERFECT_JASPER_GEM:"Perfect Jasper Gemstone",PERFECT_ONYX_GEM:"Perfect Onyx Gemstone",PERFECT_OPAL_GEM:"Perfect Opal Gemstone",PERFECT_PERIDOT_GEM:"Perfect Peridot Gemstone",PERFECT_PLATE:"Perfect Plate",PERFECT_RUBY_GEM:"Perfect Ruby Gemstone",PERFECT_SAPPHIRE_GEM:"Perfect Sapphire Gemstone",PERFECT_TOPAZ_GEM:"Perfect Topaz Gemstone",PETRIFIED_STARFALL:"Petrified Starfall",PLASMA:"Plasma",POCKET_ICEBERG:"Pocket Iceberg",POWER_CRYSTAL:"Power Crystal",PRECURSOR_APPARATUS:"Precursor Apparatus",PURE_MITHRIL:"Pure Mithril","Pendant Of Divan":"Pendant Of Divan","Penguin Pet":"Penguin Pet","Perfect Chisel":"Perfect Chisel","Perfectly-Cut Fuel Tank":"Perfectly-Cut Fuel Tank","Peridot Crystal":"Peridot Crystal","Pesto Goblin Omelette":"Pesto Goblin Omelette","Polished Topaz Rod":"Polished Topaz Rod","Portable Campfire":"Portable Campfire",REFINED_DIAMOND:"Refined Diamond",REFINED_MINERAL:"Refined Mineral",REFINED_MITHRIL:"Refined Mithril",REFINED_TITANIUM:"Refined Titanium",REFINED_TUNGSTEN:"Refined Tungsten",REFINED_UMBER:"Refined Umber",ROCK_GEMSTONE:"Dwarven Geode","Reinforced Chisel":"Reinforced Chisel","Relic Of Power":"Relic Of Power","Ruby Crystal":"Ruby Crystal","Ruby Drill TX-15":"Ruby Drill TX-15","Ruby-polished Drill Engine":"Ruby-polished Drill Engine",SKELETON_KEY:"Skeleton Key",SLUDGE_JUICE:"Sludge Juice",STARFALL:"Starfall","Sapphire Cloak":"Sapphire Cloak","Sapphire Crystal":"Sapphire Crystal","Sapphire-polished Drill Engine":"Sapphire-polished Drill Engine","Shattered Locket":"Shattered Locket","Spicy Goblin Omelette":"Spicy Goblin Omelette","Spine Fossil":"Spine Fossil","Spinosaurus Pet":"Spinosaurus Pet","Starfall Seasoning":"Starfall Seasoning","Sunny Side Goblin Omelette":"Sunny Side Goblin Omelette","T-Rex Pet":"T-Rex Pet",TITANIUM_ORE:"Titanium",TITANIUM_TESSERACT:"Titanium Tesseract",TREASURITE:"Treasurite",TUNGSTEN_KEY:"Tungsten Key",TUNGSTEN_ORE:"Tungsten",TUNGSTEN_PLATE:"Tungsten Plate","Titanium Artifact":"Titanium Artifact","Titanium Belt":"Titanium Belt","Titanium Cloak":"Titanium Cloak","Titanium Drill DR-X355":"Titanium Drill DR-X355","Titanium Drill DR-X455":"Titanium Drill DR-X455","Titanium Drill DR-X555":"Titanium Drill DR-X555","Titanium Drill DR-X655":"Titanium Drill DR-X655","Titanium Gauntlet":"Titanium Gauntlet","Titanium Necklace":"Titanium Necklace","Titanium Relic":"Titanium Relic","Titanium Ring":"Titanium Ring","Titanium Talisman":"Titanium Talisman","Titanium-Infused Fuel Tank":"Titanium-Infused Fuel Tank","Titanium-Plated Drill Engine":"Titanium-Plated Drill Engine","Topaz Crystal":"Topaz Crystal","Topaz Drill KGR-12":"Topaz Drill KGR-12","Travel Scroll to the Dwarven Base Camp":"Travel Scroll to the Dwarven Base Camp","Travel Scroll to the Dwarven Forge":"Travel Scroll to the Dwarven Forge","Tungsten Regulator":"Tungsten Regulator","Tusk Fossil":"Tusk Fossil",UMBER_KEY:"Umber Key",UMBER_PLATE:"Umber Plate","Ugly Fossil":"Ugly Fossil",WORM_MEMBRANE:"Worm Membrane","Webbed Fossil":"Webbed Fossil",coins:"Coins"},notification:{timerEnded:"Votre chrono pour {0} s'est termin\xE9",timerStarted:"D\xE9marrage du chrono pour {0}"},ui:{amount:"Quantit\xE9",auction:"Actions",bazaar:"Bazaar",categoryDrillParts:"Pi\xE8ces de Foreuse",categoryForging:"Forge",categoryGear:"Gears",categoryGemstone:"Gemmes Parfaites",categoryOther:"Autre",categoryPets:"Familiers",categoryRefining:"Affinage",categoryStones:"Pierre de Forge",categoryTools:"Outils",craftCost:"Co\xFBt de fabrication",filters:"Filtres",hotm:"HOTM",hour:"H",item:"Objet",itemPrice:"Prix de l'objet",options:{auctionsBINOnlyDescription:"Utiliser uniquement les ressources en BIN",auctionsBINOnlyLabel:"Ressources en BIN",forceRefresh:"Rafraichissement",hotmDescription:"Indiquez votre niveau d'HOTM",hotmLabel:"Niveau d'HOTM",includeAuctionsFlipDescription:"Include les craft vendus uniquement en actions",includeAuctionsFlipLabel:"Craft d'actions",includePerfectGemsDescription:"Inclure les gemmes parfaites dans les crafts",includePerfectGemsLabel:"Gemmes parfaites",intermediateCraftDescription:"Crafter les objets interm\xE9diaire",intermediateCraftLabel:"Crafts interm\xE9diaires",languageDescription:"Traduction uniquement de l'interface, les objets restent en anglais",languageLabel:"Langue",languageOptionEnglish:"Anglais",languageOptionFrench:"Baguette",maxCraftingCostDescription:"Limiter les co\xFBts des crafts. Mettre \xE0 0 pour d\xE9sactiver",maxCraftingCostLabel:"Co\xFBt maximum des crafts",playFrequencyDescription:"Ajustez votre fr\xE9quence de jeu pour le calcule des b\xE9n\xE9fices",playFrequencyLabel:"Fr\xE9quence de jeu",playFrequencyOptionEveryday:"Une fois par jour",playFrequencyOptionLess:"Joueur occasionnel",playFrequencyOptionNonStop:"Team Ch\xF4mage",playFrequencyOptionThreeTime:"3x par jour",playFrequencyOptionTwice:"2x par jour",quickForgeDescription:"Niveau d'am\xE9lioration de Quick Forge. Bonus actuel",quickForgeLabel:"Quick Forge",title:"Options"},profit:"B\xE9n\xE9fices",profitByTimeEveryday:"B\xE9n\xE9fices par jour",profitByTimeNonStop:"B\xE9n\xE9fices par heure",profitByTimeThreeTime:"B\xE9n\xE9fices pour 8h",profitByTimeTwice:"B\xE9n\xE9fices pour 12h",sell:"Vente",sellPrice:"Prix de vente",shoppingList:"Liste d'achat",time:"Dur\xE9e",timer:"Chrono",timerButton:"Lancer le chrono",title:"HyPixel Skyblock's Forge Stonks",totalPrice:"Prix total",type:"Type",vendor:"Vendeur"}},se={auctionsBINOnly:!0,cacheDuration:60,hotm:2,includeAuctionsFlip:!0,includePerfectGems:!1,intermediateCraft:!1,maxCraftingCost:0,playFrequency:"nonstop",quickForge:0};function On(e,t){return function(){return e.apply(t,arguments)}}const{toString:Ln}=Object.prototype,{getPrototypeOf:Gr}=Object,Br=(e=>t=>{const r=Ln.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Te=e=>(e=e.toLowerCase(),t=>Br(t)===e),Wt=e=>t=>typeof t===e,{isArray:ht}=Array,ur=Wt("undefined");function $i(e){return e!==null&&!ur(e)&&e.constructor!==null&&!ur(e.constructor)&&je(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Fn=Te("ArrayBuffer");function Zi(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Fn(e.buffer),t}const ea=Wt("string"),je=Wt("function"),Gn=Wt("number"),Bn=e=>e!==null&&typeof e=="object",ta=e=>e===!0||e===!1,St=e=>{if(Br(e)!=="object")return!1;const t=Gr(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},ra=Te("Date"),na=Te("File"),ia=Te("Blob"),aa=Te("FileList"),sa=e=>Bn(e)&&je(e.pipe),oa=e=>{const t="[object FormData]";return e&&(typeof FormData=="function"&&e instanceof FormData||Ln.call(e)===t||je(e.toString)&&e.toString()===t)},ua=Te("URLSearchParams"),la=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function jt(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,i;if(typeof e!="object"&&(e=[e]),ht(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{const a=r?Object.getOwnPropertyNames(e):Object.keys(e),s=a.length;let o;for(n=0;n<s;n++)o=a[n],t.call(null,e[o],o,e)}}function lr(){const e={},t=(r,n)=>{St(e[n])&&St(r)?e[n]=lr(e[n],r):St(r)?e[n]=lr({},r):ht(r)?e[n]=r.slice():e[n]=r};for(let r=0,n=arguments.length;r<n;r++)arguments[r]&&jt(arguments[r],t);return e}const ca=(e,t,r,{allOwnKeys:n}={})=>(jt(t,(i,a)=>{r&&je(i)?e[a]=On(i,r):e[a]=i},{allOwnKeys:n}),e),fa=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),da=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},ma=(e,t,r,n)=>{let i,a,s;const o={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)s=i[a],(!n||n(s,e,t))&&!o[s]&&(t[s]=e[s],o[s]=!0);e=r!==!1&&Gr(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},ha=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},ya=e=>{if(!e)return null;if(ht(e))return e;let t=e.length;if(!Gn(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},Ea=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Gr(Uint8Array)),pa=(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=n.next())&&!i.done;){const a=i.value;t.call(e,a[0],a[1])}},Ia=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},_a=Te("HTMLFormElement"),va=e=>e.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),sn=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),Ta=Te("RegExp"),xn=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};jt(r,(i,a)=>{t(i,a,e)!==!1&&(n[a]=i)}),Object.defineProperties(e,n)},ga=e=>{xn(e,(t,r)=>{const n=e[r];if(!!je(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not read-only method '"+r+"'")})}})},Ca=(e,t)=>{const r={},n=i=>{i.forEach(a=>{r[a]=!0})};return ht(e)?n(e):n(String(e).split(t)),r},Aa=()=>{},ba=(e,t)=>(e=+e,Number.isFinite(e)?e:t);var I={isArray:ht,isArrayBuffer:Fn,isBuffer:$i,isFormData:oa,isArrayBufferView:Zi,isString:ea,isNumber:Gn,isBoolean:ta,isObject:Bn,isPlainObject:St,isUndefined:ur,isDate:ra,isFile:na,isBlob:ia,isRegExp:Ta,isFunction:je,isStream:sa,isURLSearchParams:ua,isTypedArray:Ea,isFileList:aa,forEach:jt,merge:lr,extend:ca,trim:la,stripBOM:fa,inherits:da,toFlatObject:ma,kindOf:Br,kindOfTest:Te,endsWith:ha,toArray:ya,forEachEntry:pa,matchAll:Ia,isHTMLForm:_a,hasOwnProperty:sn,hasOwnProp:sn,reduceDescriptors:xn,freezeMethods:ga,toObjectSet:Ca,toCamelCase:va,noop:Aa,toFiniteNumber:ba};function F(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}I.inherits(F,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const qn=F.prototype,kn={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{kn[e]={value:e}});Object.defineProperties(F,kn);Object.defineProperty(qn,"isAxiosError",{value:!0});F.from=(e,t,r,n,i,a)=>{const s=Object.create(qn);return I.toFlatObject(e,s,function(l){return l!==Error.prototype},o=>o!=="isAxiosError"),F.call(s,e.message,t,r,n,i),s.cause=e,s.name=e.name,a&&Object.assign(s,a),s};var Ra=typeof self=="object"?self.FormData:window.FormData;function cr(e){return I.isPlainObject(e)||I.isArray(e)}function Un(e){return I.endsWith(e,"[]")?e.slice(0,-2):e}function on(e,t,r){return e?e.concat(t).map(function(i,a){return i=Un(i),!r&&a?"["+i+"]":i}).join(r?".":""):t}function Ma(e){return I.isArray(e)&&!e.some(cr)}const Sa=I.toFlatObject(I,{},null,function(t){return/^is[A-Z]/.test(t)});function Da(e){return e&&I.isFunction(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator]}function Jt(e,t,r){if(!I.isObject(e))throw new TypeError("target must be an object");t=t||new(Ra||FormData),r=I.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(h,v){return!I.isUndefined(v[h])});const n=r.metaTokens,i=r.visitor||f,a=r.dots,s=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&Da(t);if(!I.isFunction(i))throw new TypeError("visitor must be a function");function c(d){if(d===null)return"";if(I.isDate(d))return d.toISOString();if(!l&&I.isBlob(d))throw new F("Blob is not supported. Use a Buffer instead.");return I.isArrayBuffer(d)||I.isTypedArray(d)?l&&typeof Blob=="function"?new Blob([d]):Buffer.from(d):d}function f(d,h,v){let T=d;if(d&&!v&&typeof d=="object"){if(I.endsWith(h,"{}"))h=n?h:h.slice(0,-2),d=JSON.stringify(d);else if(I.isArray(d)&&Ma(d)||I.isFileList(d)||I.endsWith(h,"[]")&&(T=I.toArray(d)))return h=Un(h),T.forEach(function(g,A){!(I.isUndefined(g)||g===null)&&t.append(s===!0?on([h],A,a):s===null?h:h+"[]",c(g))}),!1}return cr(d)?!0:(t.append(on(v,h,a),c(d)),!1)}const m=[],y=Object.assign(Sa,{defaultVisitor:f,convertValue:c,isVisitable:cr});function p(d,h){if(!I.isUndefined(d)){if(m.indexOf(d)!==-1)throw Error("Circular reference detected in "+h.join("."));m.push(d),I.forEach(d,function(T,C){(!(I.isUndefined(T)||T===null)&&i.call(t,T,I.isString(C)?C.trim():C,h,y))===!0&&p(T,h?h.concat(C):[C])}),m.pop()}}if(!I.isObject(e))throw new TypeError("data must be an object");return p(e),t}function un(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function xr(e,t){this._pairs=[],e&&Jt(e,this,t)}const Kn=xr.prototype;Kn.append=function(t,r){this._pairs.push([t,r])};Kn.toString=function(t){const r=t?function(n){return t.call(this,n,un)}:un;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function Pa(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Hn(e,t,r){if(!t)return e;const n=r&&r.encode||Pa,i=r&&r.serialize;let a;if(i?a=i(t,r):a=I.isURLSearchParams(t)?t.toString():new xr(t,r).toString(n),a){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class ln{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){I.forEach(this.handlers,function(n){n!==null&&t(n)})}}var zn={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Na=typeof URLSearchParams<"u"?URLSearchParams:xr,wa=FormData;const Oa=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})();var pe={isBrowser:!0,classes:{URLSearchParams:Na,FormData:wa,Blob},isStandardBrowserEnv:Oa,protocols:["http","https","file","blob","url","data"]};function La(e,t){return Jt(e,new pe.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,a){return pe.isNode&&I.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}function Fa(e){return I.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Ga(e){const t={},r=Object.keys(e);let n;const i=r.length;let a;for(n=0;n<i;n++)a=r[n],t[a]=e[a];return t}function Wn(e){function t(r,n,i,a){let s=r[a++];const o=Number.isFinite(+s),l=a>=r.length;return s=!s&&I.isArray(i)?i.length:s,l?(I.hasOwnProp(i,s)?i[s]=[i[s],n]:i[s]=n,!o):((!i[s]||!I.isObject(i[s]))&&(i[s]=[]),t(r,n,i[s],a)&&I.isArray(i[s])&&(i[s]=Ga(i[s])),!o)}if(I.isFormData(e)&&I.isFunction(e.entries)){const r={};return I.forEachEntry(e,(n,i)=>{t(Fa(n),i,r,0)}),r}return null}function Ba(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new F("Request failed with status code "+r.status,[F.ERR_BAD_REQUEST,F.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}var xa=pe.isStandardBrowserEnv?function(){return{write:function(r,n,i,a,s,o){const l=[];l.push(r+"="+encodeURIComponent(n)),I.isNumber(i)&&l.push("expires="+new Date(i).toGMTString()),I.isString(a)&&l.push("path="+a),I.isString(s)&&l.push("domain="+s),o===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(r){const n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function qa(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function ka(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function jn(e,t){return e&&!qa(t)?ka(e,t):t}var Ua=pe.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let n;function i(a){let s=a;return t&&(r.setAttribute("href",s),s=r.href),r.setAttribute("href",s),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(s){const o=I.isString(s)?i(s):s;return o.protocol===n.protocol&&o.host===n.host}}():function(){return function(){return!0}}();function yt(e,t,r){F.call(this,e==null?"canceled":e,F.ERR_CANCELED,t,r),this.name="CanceledError"}I.inherits(yt,F,{__CANCEL__:!0});function Ka(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}const Ha=I.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var za=e=>{const t={};let r,n,i;return e&&e.split(`
`).forEach(function(s){i=s.indexOf(":"),r=s.substring(0,i).trim().toLowerCase(),n=s.substring(i+1).trim(),!(!r||t[r]&&Ha[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t};const cn=Symbol("internals"),Jn=Symbol("defaults");function et(e){return e&&String(e).trim().toLowerCase()}function Dt(e){return e===!1||e==null?e:I.isArray(e)?e.map(Dt):String(e)}function Wa(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}function fn(e,t,r,n){if(I.isFunction(n))return n.call(this,t,r);if(!!I.isString(t)){if(I.isString(n))return t.indexOf(n)!==-1;if(I.isRegExp(n))return n.test(t)}}function ja(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function Ja(e,t){const r=I.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(i,a,s){return this[n].call(this,t,i,a,s)},configurable:!0})})}function Ze(e,t){t=t.toLowerCase();const r=Object.keys(e);let n=r.length,i;for(;n-- >0;)if(i=r[n],t===i.toLowerCase())return i;return null}function ne(e,t){e&&this.set(e),this[Jn]=t||null}Object.assign(ne.prototype,{set:function(e,t,r){const n=this;function i(a,s,o){const l=et(s);if(!l)throw new Error("header name must be a non-empty string");const c=Ze(n,l);c&&o!==!0&&(n[c]===!1||o===!1)||(n[c||s]=Dt(a))}return I.isPlainObject(e)?I.forEach(e,(a,s)=>{i(a,s,t)}):i(t,e,r),this},get:function(e,t){if(e=et(e),!e)return;const r=Ze(this,e);if(r){const n=this[r];if(!t)return n;if(t===!0)return Wa(n);if(I.isFunction(t))return t.call(this,n,r);if(I.isRegExp(t))return t.exec(n);throw new TypeError("parser must be boolean|regexp|function")}},has:function(e,t){if(e=et(e),e){const r=Ze(this,e);return!!(r&&(!t||fn(this,this[r],r,t)))}return!1},delete:function(e,t){const r=this;let n=!1;function i(a){if(a=et(a),a){const s=Ze(r,a);s&&(!t||fn(r,r[s],s,t))&&(delete r[s],n=!0)}}return I.isArray(e)?e.forEach(i):i(e),n},clear:function(){return Object.keys(this).forEach(this.delete.bind(this))},normalize:function(e){const t=this,r={};return I.forEach(this,(n,i)=>{const a=Ze(r,i);if(a){t[a]=Dt(n),delete t[i];return}const s=e?ja(i):String(i).trim();s!==i&&delete t[i],t[s]=Dt(n),r[s]=!0}),this},toJSON:function(e){const t=Object.create(null);return I.forEach(Object.assign({},this[Jn]||null,this),(r,n)=>{r==null||r===!1||(t[n]=e&&I.isArray(r)?r.join(", "):r)}),t}});Object.assign(ne,{from:function(e){return I.isString(e)?new this(za(e)):e instanceof this?e:new this(e)},accessor:function(e){const r=(this[cn]=this[cn]={accessors:{}}).accessors,n=this.prototype;function i(a){const s=et(a);r[s]||(Ja(n,a),r[s]=!0)}return I.isArray(e)?e.forEach(i):i(e),this}});ne.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]);I.freezeMethods(ne.prototype);I.freezeMethods(ne);function Ya(e,t){e=e||10;const r=new Array(e),n=new Array(e);let i=0,a=0,s;return t=t!==void 0?t:1e3,function(l){const c=Date.now(),f=n[a];s||(s=c),r[i]=l,n[i]=c;let m=a,y=0;for(;m!==i;)y+=r[m++],m=m%e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),c-s<t)return;const p=f&&c-f;return p?Math.round(y*1e3/p):void 0}}function dn(e,t){let r=0;const n=Ya(50,250);return i=>{const a=i.loaded,s=i.lengthComputable?i.total:void 0,o=a-r,l=n(o),c=a<=s;r=a;const f={loaded:a,total:s,progress:s?a/s:void 0,bytes:o,rate:l||void 0,estimated:l&&s&&c?(s-a)/l:void 0};f[t?"download":"upload"]=!0,e(f)}}function mn(e){return new Promise(function(r,n){let i=e.data;const a=ne.from(e.headers).normalize(),s=e.responseType;let o;function l(){e.cancelToken&&e.cancelToken.unsubscribe(o),e.signal&&e.signal.removeEventListener("abort",o)}I.isFormData(i)&&pe.isStandardBrowserEnv&&a.setContentType(!1);let c=new XMLHttpRequest;if(e.auth){const p=e.auth.username||"",d=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";a.set("Authorization","Basic "+btoa(p+":"+d))}const f=jn(e.baseURL,e.url);c.open(e.method.toUpperCase(),Hn(f,e.params,e.paramsSerializer),!0),c.timeout=e.timeout;function m(){if(!c)return;const p=ne.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),h={data:!s||s==="text"||s==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:p,config:e,request:c};Ba(function(T){r(T),l()},function(T){n(T),l()},h),c=null}if("onloadend"in c?c.onloadend=m:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(m)},c.onabort=function(){!c||(n(new F("Request aborted",F.ECONNABORTED,e,c)),c=null)},c.onerror=function(){n(new F("Network Error",F.ERR_NETWORK,e,c)),c=null},c.ontimeout=function(){let d=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const h=e.transitional||zn;e.timeoutErrorMessage&&(d=e.timeoutErrorMessage),n(new F(d,h.clarifyTimeoutError?F.ETIMEDOUT:F.ECONNABORTED,e,c)),c=null},pe.isStandardBrowserEnv){const p=(e.withCredentials||Ua(f))&&e.xsrfCookieName&&xa.read(e.xsrfCookieName);p&&a.set(e.xsrfHeaderName,p)}i===void 0&&a.setContentType(null),"setRequestHeader"in c&&I.forEach(a.toJSON(),function(d,h){c.setRequestHeader(h,d)}),I.isUndefined(e.withCredentials)||(c.withCredentials=!!e.withCredentials),s&&s!=="json"&&(c.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&c.addEventListener("progress",dn(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",dn(e.onUploadProgress)),(e.cancelToken||e.signal)&&(o=p=>{!c||(n(!p||p.type?new yt(null,e,c):p),c.abort(),c=null)},e.cancelToken&&e.cancelToken.subscribe(o),e.signal&&(e.signal.aborted?o():e.signal.addEventListener("abort",o)));const y=Ka(f);if(y&&pe.protocols.indexOf(y)===-1){n(new F("Unsupported protocol "+y+":",F.ERR_BAD_REQUEST,e));return}c.send(i||null)})}const hn={http:mn,xhr:mn};var yn={getAdapter:e=>{if(I.isString(e)){const t=hn[e];if(!e)throw Error(I.hasOwnProp(e)?`Adapter '${e}' is not available in the build`:`Can not resolve adapter '${e}'`);return t}if(!I.isFunction(e))throw new TypeError("adapter is not a function");return e},adapters:hn};const Xa={"Content-Type":"application/x-www-form-urlencoded"};function Va(){let e;return typeof XMLHttpRequest<"u"?e=yn.getAdapter("xhr"):typeof process<"u"&&I.kindOf(process)==="process"&&(e=yn.getAdapter("http")),e}function Qa(e,t,r){if(I.isString(e))try{return(t||JSON.parse)(e),I.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Je={transitional:zn,adapter:Va(),transformRequest:[function(t,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,a=I.isObject(t);if(a&&I.isHTMLForm(t)&&(t=new FormData(t)),I.isFormData(t))return i&&i?JSON.stringify(Wn(t)):t;if(I.isArrayBuffer(t)||I.isBuffer(t)||I.isStream(t)||I.isFile(t)||I.isBlob(t))return t;if(I.isArrayBufferView(t))return t.buffer;if(I.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return La(t,this.formSerializer).toString();if((o=I.isFileList(t))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Jt(o?{"files[]":t}:t,l&&new l,this.formSerializer)}}return a||i?(r.setContentType("application/json",!1),Qa(t)):t}],transformResponse:[function(t){const r=this.transitional||Je.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(t&&I.isString(t)&&(n&&!this.responseType||i)){const s=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(o){if(s)throw o.name==="SyntaxError"?F.from(o,F.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:pe.classes.FormData,Blob:pe.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};I.forEach(["delete","get","head"],function(t){Je.headers[t]={}});I.forEach(["post","put","patch"],function(t){Je.headers[t]=I.merge(Xa)});function Zt(e,t){const r=this||Je,n=t||r,i=ne.from(n.headers);let a=n.data;return I.forEach(e,function(o){a=o.call(r,a,i.normalize(),t?t.status:void 0)}),i.normalize(),a}function Yn(e){return!!(e&&e.__CANCEL__)}function er(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new yt}function En(e){return er(e),e.headers=ne.from(e.headers),e.data=Zt.call(e,e.transformRequest),(e.adapter||Je.adapter)(e).then(function(n){return er(e),n.data=Zt.call(e,e.transformResponse,n),n.headers=ne.from(n.headers),n},function(n){return Yn(n)||(er(e),n&&n.response&&(n.response.data=Zt.call(e,e.transformResponse,n.response),n.response.headers=ne.from(n.response.headers))),Promise.reject(n)})}function st(e,t){t=t||{};const r={};function n(c,f){return I.isPlainObject(c)&&I.isPlainObject(f)?I.merge(c,f):I.isPlainObject(f)?I.merge({},f):I.isArray(f)?f.slice():f}function i(c){if(I.isUndefined(t[c])){if(!I.isUndefined(e[c]))return n(void 0,e[c])}else return n(e[c],t[c])}function a(c){if(!I.isUndefined(t[c]))return n(void 0,t[c])}function s(c){if(I.isUndefined(t[c])){if(!I.isUndefined(e[c]))return n(void 0,e[c])}else return n(void 0,t[c])}function o(c){if(c in t)return n(e[c],t[c]);if(c in e)return n(void 0,e[c])}const l={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:o};return I.forEach(Object.keys(e).concat(Object.keys(t)),function(f){const m=l[f]||i,y=m(f);I.isUndefined(y)&&m!==o||(r[f]=y)}),r}const Xn="1.1.3",qr={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{qr[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const pn={};qr.transitional=function(t,r,n){function i(a,s){return"[Axios v"+Xn+"] Transitional option '"+a+"'"+s+(n?". "+n:"")}return(a,s,o)=>{if(t===!1)throw new F(i(s," has been removed"+(r?" in "+r:"")),F.ERR_DEPRECATED);return r&&!pn[s]&&(pn[s]=!0,console.warn(i(s," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,s,o):!0}};function $a(e,t,r){if(typeof e!="object")throw new F("options must be an object",F.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const a=n[i],s=t[a];if(s){const o=e[a],l=o===void 0||s(o,a,e);if(l!==!0)throw new F("option "+a+" must be "+l,F.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new F("Unknown option "+a,F.ERR_BAD_OPTION)}}var fr={assertOptions:$a,validators:qr};const be=fr.validators;class Fe{constructor(t){this.defaults=t,this.interceptors={request:new ln,response:new ln}}request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=st(this.defaults,r);const{transitional:n,paramsSerializer:i}=r;n!==void 0&&fr.assertOptions(n,{silentJSONParsing:be.transitional(be.boolean),forcedJSONParsing:be.transitional(be.boolean),clarifyTimeoutError:be.transitional(be.boolean)},!1),i!==void 0&&fr.assertOptions(i,{encode:be.function,serialize:be.function},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();const a=r.headers&&I.merge(r.headers.common,r.headers[r.method]);a&&I.forEach(["delete","get","head","post","put","patch","common"],function(d){delete r.headers[d]}),r.headers=new ne(r.headers,a);const s=[];let o=!0;this.interceptors.request.forEach(function(d){typeof d.runWhen=="function"&&d.runWhen(r)===!1||(o=o&&d.synchronous,s.unshift(d.fulfilled,d.rejected))});const l=[];this.interceptors.response.forEach(function(d){l.push(d.fulfilled,d.rejected)});let c,f=0,m;if(!o){const p=[En.bind(this),void 0];for(p.unshift.apply(p,s),p.push.apply(p,l),m=p.length,c=Promise.resolve(r);f<m;)c=c.then(p[f++],p[f++]);return c}m=s.length;let y=r;for(f=0;f<m;){const p=s[f++],d=s[f++];try{y=p(y)}catch(h){d.call(this,h);break}}try{c=En.call(this,y)}catch(p){return Promise.reject(p)}for(f=0,m=l.length;f<m;)c=c.then(l[f++],l[f++]);return c}getUri(t){t=st(this.defaults,t);const r=jn(t.baseURL,t.url);return Hn(r,t.params,t.paramsSerializer)}}I.forEach(["delete","get","head","options"],function(t){Fe.prototype[t]=function(r,n){return this.request(st(n||{},{method:t,url:r,data:(n||{}).data}))}});I.forEach(["post","put","patch"],function(t){function r(n){return function(a,s,o){return this.request(st(o||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:s}))}}Fe.prototype[t]=r(),Fe.prototype[t+"Form"]=r(!0)});class kr{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(i=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](i);n._listeners=null}),this.promise.then=i=>{let a;const s=new Promise(o=>{n.subscribe(o),a=o}).then(i);return s.cancel=function(){n.unsubscribe(a)},s},t(function(a,s,o){n.reason||(n.reason=new yt(a,s,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}static source(){let t;return{token:new kr(function(i){t=i}),cancel:t}}}function Za(e){return function(r){return e.apply(null,r)}}function es(e){return I.isObject(e)&&e.isAxiosError===!0}function Vn(e){const t=new Fe(e),r=On(Fe.prototype.request,t);return I.extend(r,Fe.prototype,t,{allOwnKeys:!0}),I.extend(r,t,null,{allOwnKeys:!0}),r.create=function(i){return Vn(st(e,i))},r}const j=Vn(Je);j.Axios=Fe;j.CanceledError=yt;j.CancelToken=kr;j.isCancel=Yn;j.VERSION=Xn;j.toFormData=Jt;j.AxiosError=F;j.Cancel=j.CanceledError;j.all=function(t){return Promise.all(t)};j.spread=Za;j.isAxiosError=es;j.formToJSON=e=>Wn(I.isHTMLForm(e)?new FormData(e):e);const ts=()=>j.get("https://api.hypixel.net/skyblock/bazaar").then(e=>e.data).then(e=>{if(!(e!=null&&e.success))throw new Error("Invalid query to bazaar");return Object.keys(e.products).map(r=>({buyPrice:e.products[r].quick_status.buyPrice,item_name:r,sellPrice:e.products[r].quick_status.sellPrice}))}),rs=async e=>{const r=(await j.get(`https://api.hypixel.net/skyblock/auctions?page=${e}`)).data;return r!=null&&r.success?r.auctions.filter(n=>!n.claimed):Promise.reject(new Error("No results"))},ns=e=>{const t=new Map;return e.auctions.filter(r=>!r.claimed).forEach(({bin:r,highest_bid_amount:n,item_name:i,starting_bid:a,uuid:s})=>{t.set(s,{bin:r,buyPrice:r||n?a:n,item_name:i,sellPrice:r||n?a:n})}),t},is=(e,t)=>{e.forEach(r=>{r.forEach(n=>{const{bin:i,highest_bid_amount:a,item_name:s,starting_bid:o,uuid:l}=n;t.set(l,{bin:i,buyPrice:i||a===0?o:a,item_name:s,sellPrice:i||a===0?o:a})})})},as=()=>j.get("https://api.hypixel.net/skyblock/auctions").then(e=>e.data).then(e=>{if(!(e!=null&&e.success))throw new Error("Invalid query to auctions");const t=ns(e),r=[];if(e.totalPages>1)for(let n=1;n<e.totalPages;n++)r.push(rs(n));return Promise.all(r).then(n=>(is(n,t),Array.from(t.values())))}),ss=async(e,t)=>{if(!(!e||!t))return j.get(`https://sky.shiiyu.moe/api/v2/profile/${e}`).then(r=>r.data).then(r=>r.profiles[t])};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.
Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.
THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var L=function(){return L=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},L.apply(this,arguments)};function dr(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}var U=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,z=Object.keys,V=Array.isArray;typeof Promise<"u"&&!U.Promise&&(U.Promise=Promise);function $(e,t){return typeof t!="object"||z(t).forEach(function(r){e[r]=t[r]}),e}var ot=Object.getPrototypeOf,os={}.hasOwnProperty;function ee(e,t){return os.call(e,t)}function We(e,t){typeof t=="function"&&(t=t(ot(e))),(typeof Reflect>"u"?z:Reflect.ownKeys)(t).forEach(function(r){_e(e,r,t[r])})}var Qn=Object.defineProperty;function _e(e,t,r,n){Qn(e,t,$(r&&ee(r,"get")&&typeof r.get=="function"?{get:r.get,set:r.set,configurable:!0}:{value:r,configurable:!0,writable:!0},n))}function Ye(e){return{from:function(t){return e.prototype=Object.create(t.prototype),_e(e.prototype,"constructor",e),{extend:We.bind(null,e.prototype)}}}}var us=Object.getOwnPropertyDescriptor;function Ur(e,t){var r=us(e,t),n;return r||(n=ot(e))&&Ur(n,t)}var ls=[].slice;function Yt(e,t,r){return ls.call(e,t,r)}function $n(e,t){return t(e)}function tt(e){if(!e)throw new Error("Assertion Failed")}function Zn(e){U.setImmediate?setImmediate(e):setTimeout(e,0)}function ei(e,t){return e.reduce(function(r,n,i){var a=t(n,i);return a&&(r[a[0]]=a[1]),r},{})}function cs(e,t,r){try{e.apply(null,r)}catch(n){t&&t(n)}}function Ie(e,t){if(ee(e,t))return e[t];if(!t)return e;if(typeof t!="string"){for(var r=[],n=0,i=t.length;n<i;++n){var a=Ie(e,t[n]);r.push(a)}return r}var s=t.indexOf(".");if(s!==-1){var o=e[t.substr(0,s)];return o===void 0?void 0:Ie(o,t.substr(s+1))}}function ue(e,t,r){if(!(!e||t===void 0)&&!("isFrozen"in Object&&Object.isFrozen(e)))if(typeof t!="string"&&"length"in t){tt(typeof r!="string"&&"length"in r);for(var n=0,i=t.length;n<i;++n)ue(e,t[n],r[n])}else{var a=t.indexOf(".");if(a!==-1){var s=t.substr(0,a),o=t.substr(a+1);if(o==="")r===void 0?V(e)&&!isNaN(parseInt(s))?e.splice(s,1):delete e[s]:e[s]=r;else{var l=e[s];(!l||!ee(e,s))&&(l=e[s]={}),ue(l,o,r)}}else r===void 0?V(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=r}}function fs(e,t){typeof t=="string"?ue(e,t,void 0):"length"in t&&[].map.call(t,function(r){ue(e,r,void 0)})}function ti(e){var t={};for(var r in e)ee(e,r)&&(t[r]=e[r]);return t}var ds=[].concat;function ri(e){return ds.apply([],e)}var ni="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(ri([8,16,32,64].map(function(e){return["Int","Uint","Float"].map(function(t){return t+e+"Array"})}))).filter(function(e){return U[e]}),ms=ni.map(function(e){return U[e]});ei(ni,function(e){return[e,!0]});var Se=null;function Et(e){Se=typeof WeakMap<"u"&&new WeakMap;var t=mr(e);return Se=null,t}function mr(e){if(!e||typeof e!="object")return e;var t=Se&&Se.get(e);if(t)return t;if(V(e)){t=[],Se&&Se.set(e,t);for(var r=0,n=e.length;r<n;++r)t.push(mr(e[r]))}else if(ms.indexOf(e.constructor)>=0)t=e;else{var i=ot(e);t=i===Object.prototype?{}:Object.create(i),Se&&Se.set(e,t);for(var a in e)ee(e,a)&&(t[a]=mr(e[a]))}return t}var hs={}.toString;function hr(e){return hs.call(e).slice(8,-1)}var yr=typeof Symbol<"u"?Symbol.iterator:"@@iterator",ys=typeof yr=="symbol"?function(e){var t;return e!=null&&(t=e[yr])&&t.apply(e)}:function(){return null},He={};function ye(e){var t,r,n,i;if(arguments.length===1){if(V(e))return e.slice();if(this===He&&typeof e=="string")return[e];if(i=ys(e)){for(r=[];n=i.next(),!n.done;)r.push(n.value);return r}if(e==null)return[e];if(t=e.length,typeof t=="number"){for(r=new Array(t);t--;)r[t]=e[t];return r}return[e]}for(t=arguments.length,r=new Array(t);t--;)r[t]=arguments[t];return r}var Kr=typeof Symbol<"u"?function(e){return e[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},de=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function ii(e,t){de=e,ai=t}var ai=function(){return!0},Es=!new Error("").stack;function ke(){if(Es)try{throw ke.arguments,new Error}catch(e){return e}return new Error}function Er(e,t){var r=e.stack;return r?(t=t||0,r.indexOf(e.name)===0&&(t+=(e.name+e.message).split(`
`).length),r.split(`
`).slice(t).filter(ai).map(function(n){return`
`+n}).join("")):""}var ps=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"],si=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Hr=ps.concat(si),Is={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Xe(e,t){this._e=ke(),this.name=e,this.message=t}Ye(Xe).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+Er(this._e,2))}},toString:function(){return this.name+": "+this.message}});function oi(e,t){return e+". Errors: "+Object.keys(t).map(function(r){return t[r].toString()}).filter(function(r,n,i){return i.indexOf(r)===n}).join(`
`)}function Gt(e,t,r,n){this._e=ke(),this.failures=t,this.failedKeys=n,this.successCount=r,this.message=oi(e,t)}Ye(Gt).from(Xe);function nt(e,t){this._e=ke(),this.name="BulkError",this.failures=Object.keys(t).map(function(r){return t[r]}),this.failuresByPos=t,this.message=oi(e,t)}Ye(nt).from(Xe);var zr=Hr.reduce(function(e,t){return e[t]=t+"Error",e},{}),_s=Xe,N=Hr.reduce(function(e,t){var r=t+"Error";function n(i,a){this._e=ke(),this.name=r,i?typeof i=="string"?(this.message=""+i+(a?`
 `+a:""),this.inner=a||null):typeof i=="object"&&(this.message=i.name+" "+i.message,this.inner=i):(this.message=Is[t]||r,this.inner=null)}return Ye(n).from(_s),e[t]=n,e},{});N.Syntax=SyntaxError;N.Type=TypeError;N.Range=RangeError;var In=si.reduce(function(e,t){return e[t+"Error"]=N[t],e},{});function vs(e,t){if(!e||e instanceof Xe||e instanceof TypeError||e instanceof SyntaxError||!e.name||!In[e.name])return e;var r=new In[e.name](t||e.message,e);return"stack"in e&&_e(r,"stack",{get:function(){return this.inner.stack}}),r}var Xt=Hr.reduce(function(e,t){return["Syntax","Type","Range"].indexOf(t)===-1&&(e[t+"Error"]=N[t]),e},{});Xt.ModifyError=Gt;Xt.DexieError=Xe;Xt.BulkError=nt;function k(){}function pt(e){return e}function Ts(e,t){return e==null||e===pt?t:function(r){return t(e(r))}}function xe(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function gs(e,t){return e===k?t:function(){var r=e.apply(this,arguments);r!==void 0&&(arguments[0]=r);var n=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var a=t.apply(this,arguments);return n&&(this.onsuccess=this.onsuccess?xe(n,this.onsuccess):n),i&&(this.onerror=this.onerror?xe(i,this.onerror):i),a!==void 0?a:r}}function Cs(e,t){return e===k?t:function(){e.apply(this,arguments);var r=this.onsuccess,n=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),r&&(this.onsuccess=this.onsuccess?xe(r,this.onsuccess):r),n&&(this.onerror=this.onerror?xe(n,this.onerror):n)}}function As(e,t){return e===k?t:function(r){var n=e.apply(this,arguments);$(r,n);var i=this.onsuccess,a=this.onerror;this.onsuccess=null,this.onerror=null;var s=t.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?xe(i,this.onsuccess):i),a&&(this.onerror=this.onerror?xe(a,this.onerror):a),n===void 0?s===void 0?void 0:s:$(n,s)}}function bs(e,t){return e===k?t:function(){return t.apply(this,arguments)===!1?!1:e.apply(this,arguments)}}function Wr(e,t){return e===k?t:function(){var r=e.apply(this,arguments);if(r&&typeof r.then=="function"){for(var n=this,i=arguments.length,a=new Array(i);i--;)a[i]=arguments[i];return r.then(function(){return t.apply(n,a)})}return t.apply(this,arguments)}}var ut={},Rs=100,Ms=20,ui=100,jr=typeof Promise>"u"?[]:function(){var e=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[e,ot(e),e];var t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,ot(t),e]}(),pr=jr[0],Bt=jr[1],Ir=jr[2],li=Bt&&Bt.then,Pt=pr&&pr.constructor,Jr=!!Ir,_r=!1,Ss=Ir?function(){Ir.then(Ct)}:U.setImmediate?setImmediate.bind(null,Ct):U.MutationObserver?function(){var e=document.createElement("div");new MutationObserver(function(){Ct(),e=null}).observe(e,{attributes:!0}),e.setAttribute("i","1")}:function(){setTimeout(Ct,0)},lt=function(e,t){rt.push([e,t]),xt&&(Ss(),xt=!1)},vr=!0,xt=!0,Ge=[],Nt=[],Tr=null,gr=pt,ze={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Tn,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(function(e){try{Tn(e[0],e[1])}catch{}})}},S=ze,rt=[],Be=0,wt=[];function M(e){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=k,this._lib=!1;var t=this._PSD=S;if(de&&(this._stackHolder=ke(),this._prev=null,this._numPrev=0),typeof e!="function"){if(e!==ut)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&Ar(this,this._value);return}this._state=null,this._value=null,++t.ref,fi(this,e)}var Cr={get:function(){var e=S,t=qt;function r(n,i){var a=this,s=!e.global&&(e!==S||t!==qt),o=s&&!ve(),l=new M(function(c,f){Yr(a,new ci(Ut(n,e,s,o),Ut(i,e,s,o),c,f,e))});return de&&hi(l,this),l}return r.prototype=ut,r},set:function(e){_e(this,"then",e&&e.prototype===ut?Cr:{get:function(){return e},set:Cr.set})}};We(M.prototype,{then:Cr,_then:function(e,t){Yr(this,new ci(null,null,e,t,S))},catch:function(e){if(arguments.length===1)return this.then(null,e);var t=arguments[0],r=arguments[1];return typeof t=="function"?this.then(null,function(n){return n instanceof t?r(n):Ot(n)}):this.then(null,function(n){return n&&n.name===t?r(n):Ot(n)})},finally:function(e){return this.then(function(t){return e(),t},function(t){return e(),Ot(t)})},stack:{get:function(){if(this._stack)return this._stack;try{_r=!0;var e=mi(this,[],Ms),t=e.join(`
From previous: `);return this._state!==null&&(this._stack=t),t}finally{_r=!1}}},timeout:function(e,t){var r=this;return e<1/0?new M(function(n,i){var a=setTimeout(function(){return i(new N.Timeout(t))},e);r.then(n,i).finally(clearTimeout.bind(null,a))}):this}});typeof Symbol<"u"&&Symbol.toStringTag&&_e(M.prototype,Symbol.toStringTag,"Dexie.Promise");ze.env=yi();function ci(e,t,r,n,i){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.resolve=r,this.reject=n,this.psd=i}We(M,{all:function(){var e=ye.apply(null,arguments).map(kt);return new M(function(t,r){e.length===0&&t([]);var n=e.length;e.forEach(function(i,a){return M.resolve(i).then(function(s){e[a]=s,--n||t(e)},r)})})},resolve:function(e){if(e instanceof M)return e;if(e&&typeof e.then=="function")return new M(function(r,n){e.then(r,n)});var t=new M(ut,!0,e);return hi(t,Tr),t},reject:Ot,race:function(){var e=ye.apply(null,arguments).map(kt);return new M(function(t,r){e.map(function(n){return M.resolve(n).then(t,r)})})},PSD:{get:function(){return S},set:function(e){return S=e}},totalEchoes:{get:function(){return qt}},newPSD:Pe,usePSD:Qe,scheduler:{get:function(){return lt},set:function(e){lt=e}},rejectionMapper:{get:function(){return gr},set:function(e){gr=e}},follow:function(e,t){return new M(function(r,n){return Pe(function(i,a){var s=S;s.unhandleds=[],s.onunhandled=a,s.finalize=xe(function(){var o=this;Ps(function(){o.unhandleds.length===0?i():a(o.unhandleds[0])})},s.finalize),e()},t,r,n)})}});Pt&&(Pt.allSettled&&_e(M,"allSettled",function(){var e=ye.apply(null,arguments).map(kt);return new M(function(t){e.length===0&&t([]);var r=e.length,n=new Array(r);e.forEach(function(i,a){return M.resolve(i).then(function(s){return n[a]={status:"fulfilled",value:s}},function(s){return n[a]={status:"rejected",reason:s}}).then(function(){return--r||t(n)})})})}),Pt.any&&typeof AggregateError<"u"&&_e(M,"any",function(){var e=ye.apply(null,arguments).map(kt);return new M(function(t,r){e.length===0&&r(new AggregateError([]));var n=e.length,i=new Array(n);e.forEach(function(a,s){return M.resolve(a).then(function(o){return t(o)},function(o){i[s]=o,--n||r(new AggregateError(i))})})})}));function fi(e,t){try{t(function(r){if(e._state===null){if(r===e)throw new TypeError("A promise cannot be resolved with itself.");var n=e._lib&&It();r&&typeof r.then=="function"?fi(e,function(i,a){r instanceof M?r._then(i,a):r.then(i,a)}):(e._state=!0,e._value=r,di(e)),n&&_t()}},Ar.bind(null,e))}catch(r){Ar(e,r)}}function Ar(e,t){if(Nt.push(t),e._state===null){var r=e._lib&&It();t=gr(t),e._state=!1,e._value=t,de&&t!==null&&typeof t=="object"&&!t._promise&&cs(function(){var n=Ur(t,"stack");t._promise=e,_e(t,"stack",{get:function(){return _r?n&&(n.get?n.get.apply(t):n.value):e.stack}})}),Ns(e),di(e),r&&_t()}}function di(e){var t=e._listeners;e._listeners=[];for(var r=0,n=t.length;r<n;++r)Yr(e,t[r]);var i=e._PSD;--i.ref||i.finalize(),Be===0&&(++Be,lt(function(){--Be===0&&Xr()},[]))}function Yr(e,t){if(e._state===null){e._listeners.push(t);return}var r=e._state?t.onFulfilled:t.onRejected;if(r===null)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++Be,lt(Ds,[r,e,t])}function Ds(e,t,r){try{Tr=t;var n,i=t._value;t._state?n=e(i):(Nt.length&&(Nt=[]),n=e(i),Nt.indexOf(i)===-1&&ws(t)),r.resolve(n)}catch(a){r.reject(a)}finally{Tr=null,--Be===0&&Xr(),--r.psd.ref||r.psd.finalize()}}function mi(e,t,r){if(t.length===r)return t;var n="";if(e._state===!1){var i=e._value,a,s;i!=null?(a=i.name||"Error",s=i.message||i,n=Er(i,0)):(a=i,s=""),t.push(a+(s?": "+s:"")+n)}return de&&(n=Er(e._stackHolder,2),n&&t.indexOf(n)===-1&&t.push(n),e._prev&&mi(e._prev,t,r)),t}function hi(e,t){var r=t?t._numPrev+1:0;r<Rs&&(e._prev=t,e._numPrev=r)}function Ct(){It()&&_t()}function It(){var e=vr;return vr=!1,xt=!1,e}function _t(){var e,t,r;do for(;rt.length>0;)for(e=rt,rt=[],r=e.length,t=0;t<r;++t){var n=e[t];n[0].apply(null,n[1])}while(rt.length>0);vr=!0,xt=!0}function Xr(){var e=Ge;Ge=[],e.forEach(function(n){n._PSD.onunhandled.call(null,n._value,n)});for(var t=wt.slice(0),r=t.length;r;)t[--r]()}function Ps(e){function t(){e(),wt.splice(wt.indexOf(t),1)}wt.push(t),++Be,lt(function(){--Be===0&&Xr()},[])}function Ns(e){Ge.some(function(t){return t._value===e._value})||Ge.push(e)}function ws(e){for(var t=Ge.length;t;)if(Ge[--t]._value===e._value){Ge.splice(t,1);return}}function Ot(e){return new M(ut,!1,e)}function K(e,t){var r=S;return function(){var n=It(),i=S;try{return Ne(r,!0),e.apply(this,arguments)}catch(a){t&&t(a)}finally{Ne(i,!1),n&&_t()}}}var X={awaits:0,echoes:0,id:0},Os=0,Lt=[],tr=0,qt=0,Ls=0;function Pe(e,t,r,n){var i=S,a=Object.create(i);a.parent=i,a.ref=0,a.global=!1,a.id=++Ls;var s=ze.env;a.env=Jr?{Promise:M,PromiseProp:{value:M,configurable:!0,writable:!0},all:M.all,race:M.race,allSettled:M.allSettled,any:M.any,resolve:M.resolve,reject:M.reject,nthen:_n(s.nthen,a),gthen:_n(s.gthen,a)}:{},t&&$(a,t),++i.ref,a.finalize=function(){--this.parent.ref||this.parent.finalize()};var o=Qe(a,e,r,n);return a.ref===0&&a.finalize(),o}function Ve(){return X.id||(X.id=++Os),++X.awaits,X.echoes+=ui,X.id}function ve(){return X.awaits?(--X.awaits===0&&(X.id=0),X.echoes=X.awaits*ui,!0):!1}(""+li).indexOf("[native code]")===-1&&(Ve=ve=k);function kt(e){return X.echoes&&e&&e.constructor===Pt?(Ve(),e.then(function(t){return ve(),t},function(t){return ve(),W(t)})):e}function Fs(e){++qt,(!X.echoes||--X.echoes===0)&&(X.echoes=X.id=0),Lt.push(S),Ne(e,!0)}function Gs(){var e=Lt[Lt.length-1];Lt.pop(),Ne(e,!1)}function Ne(e,t){var r=S;if((t?X.echoes&&(!tr++||e!==S):tr&&(!--tr||e!==S))&&Ei(t?Fs.bind(null,e):Gs),e!==S&&(S=e,r===ze&&(ze.env=yi()),Jr)){var n=ze.env.Promise,i=e.env;Bt.then=i.nthen,n.prototype.then=i.gthen,(r.global||e.global)&&(Object.defineProperty(U,"Promise",i.PromiseProp),n.all=i.all,n.race=i.race,n.resolve=i.resolve,n.reject=i.reject,i.allSettled&&(n.allSettled=i.allSettled),i.any&&(n.any=i.any))}}function yi(){var e=U.Promise;return Jr?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(U,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:Bt.then,gthen:e.prototype.then}:{}}function Qe(e,t,r,n,i){var a=S;try{return Ne(e,!0),t(r,n,i)}finally{Ne(a,!1)}}function Ei(e){li.call(pr,e)}function Ut(e,t,r,n){return typeof e!="function"?e:function(){var i=S;r&&Ve(),Ne(t,!0);try{return e.apply(this,arguments)}finally{Ne(i,!1),n&&Ei(ve)}}}function _n(e,t){return function(r,n){return e.call(this,Ut(r,t),Ut(n,t))}}var vn="unhandledrejection";function Tn(e,t){var r;try{r=t.onuncatched(e)}catch{}if(r!==!1)try{var n,i={promise:t,reason:e};if(U.document&&document.createEvent?(n=document.createEvent("Event"),n.initEvent(vn,!0,!0),$(n,i)):U.CustomEvent&&(n=new CustomEvent(vn,{detail:i}),$(n,i)),n&&U.dispatchEvent&&(dispatchEvent(n),!U.PromiseRejectionEvent&&U.onunhandledrejection))try{U.onunhandledrejection(n)}catch{}de&&n&&!n.defaultPrevented&&console.warn("Unhandled rejection: "+(e.stack||e))}catch{}}var W=M.reject;function br(e,t,r,n){if(!e.idbdb||!e._state.openComplete&&!S.letThrough&&!e._vip){if(e._state.openComplete)return W(new N.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return W(new N.DatabaseClosed);e.open().catch(k)}return e._state.dbReadyPromise.then(function(){return br(e,t,r,n)})}else{var i=e._createTransaction(t,r,e._dbSchema);try{i.create(),e._state.PR1398_maxLoop=3}catch(a){return a.name===zr.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(function(){return br(e,t,r,n)})):W(a)}return i._promise(t,function(a,s){return Pe(function(){return S.trans=i,n(a,s,i)})}).then(function(a){return i._completion.then(function(){return a})})}}var gn="3.2.2",Le=String.fromCharCode(65535),Rr=-1/0,me="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",pi="String expected.",it=[],Vt=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),Bs=Vt,xs=Vt,Ii=function(e){return!/(dexie\.js|dexie\.min\.js)/.test(e)},Qt="__dbnames",rr="readonly",nr="readwrite";function qe(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}var _i={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function At(e){return typeof e=="string"&&!/\./.test(e)?function(t){return t[e]===void 0&&e in t&&(t=Et(t),delete t[e]),t}:function(t){return t}}var qs=function(){function e(){}return e.prototype._trans=function(t,r,n){var i=this._tx||S.trans,a=this.name;function s(l,c,f){if(!f.schema[a])throw new N.NotFound("Table "+a+" not part of transaction");return r(f.idbtrans,f)}var o=It();try{return i&&i.db===this.db?i===S.trans?i._promise(t,s,n):Pe(function(){return i._promise(t,s,n)},{trans:i,transless:S.transless||S}):br(this.db,t,[this.name],s)}finally{o&&_t()}},e.prototype.get=function(t,r){var n=this;return t&&t.constructor===Object?this.where(t).first(r):this._trans("readonly",function(i){return n.core.get({trans:i,key:t}).then(function(a){return n.hook.reading.fire(a)})}).then(r)},e.prototype.where=function(t){if(typeof t=="string")return new this.db.WhereClause(this,t);if(V(t))return new this.db.WhereClause(this,"["+t.join("+")+"]");var r=z(t);if(r.length===1)return this.where(r[0]).equals(t[r[0]]);var n=this.schema.indexes.concat(this.schema.primKey).filter(function(f){return f.compound&&r.every(function(m){return f.keyPath.indexOf(m)>=0})&&f.keyPath.every(function(m){return r.indexOf(m)>=0})})[0];if(n&&this.db._maxKey!==Le)return this.where(n.name).equals(n.keyPath.map(function(f){return t[f]}));!n&&de&&console.warn("The query "+JSON.stringify(t)+" on "+this.name+" would benefit of a "+("compound index ["+r.join("+")+"]"));var i=this.schema.idxByName,a=this.db._deps.indexedDB;function s(f,m){try{return a.cmp(f,m)===0}catch{return!1}}var o=r.reduce(function(f,m){var y=f[0],p=f[1],d=i[m],h=t[m];return[y||d,y||!d?qe(p,d&&d.multi?function(v){var T=Ie(v,m);return V(T)&&T.some(function(C){return s(h,C)})}:function(v){return s(h,Ie(v,m))}):p]},[null,null]),l=o[0],c=o[1];return l?this.where(l.name).equals(t[l.keyPath]).filter(c):n?this.filter(c):this.where(r).equals("")},e.prototype.filter=function(t){return this.toCollection().and(t)},e.prototype.count=function(t){return this.toCollection().count(t)},e.prototype.offset=function(t){return this.toCollection().offset(t)},e.prototype.limit=function(t){return this.toCollection().limit(t)},e.prototype.each=function(t){return this.toCollection().each(t)},e.prototype.toArray=function(t){return this.toCollection().toArray(t)},e.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},e.prototype.orderBy=function(t){return new this.db.Collection(new this.db.WhereClause(this,V(t)?"["+t.join("+")+"]":t))},e.prototype.reverse=function(){return this.toCollection().reverse()},e.prototype.mapToClass=function(t){this.schema.mappedClass=t;var r=function(n){if(!n)return n;var i=Object.create(t.prototype);for(var a in n)if(ee(n,a))try{i[a]=n[a]}catch{}return i};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=r,this.hook("reading",r),t},e.prototype.defineClass=function(){function t(r){$(this,r)}return this.mapToClass(t)},e.prototype.add=function(t,r){var n=this,i=this.schema.primKey,a=i.auto,s=i.keyPath,o=t;return s&&a&&(o=At(s)(t)),this._trans("readwrite",function(l){return n.core.mutate({trans:l,type:"add",keys:r!=null?[r]:null,values:[o]})}).then(function(l){return l.numFailures?M.reject(l.failures[0]):l.lastResult}).then(function(l){if(s)try{ue(t,s,l)}catch{}return l})},e.prototype.update=function(t,r){if(typeof t=="object"&&!V(t)){var n=Ie(t,this.schema.primKey.keyPath);if(n===void 0)return W(new N.InvalidArgument("Given object does not contain its primary key"));try{typeof r!="function"?z(r).forEach(function(i){ue(t,i,r[i])}):r(t,{value:t,primKey:n})}catch{}return this.where(":id").equals(n).modify(r)}else return this.where(":id").equals(t).modify(r)},e.prototype.put=function(t,r){var n=this,i=this.schema.primKey,a=i.auto,s=i.keyPath,o=t;return s&&a&&(o=At(s)(t)),this._trans("readwrite",function(l){return n.core.mutate({trans:l,type:"put",values:[o],keys:r!=null?[r]:null})}).then(function(l){return l.numFailures?M.reject(l.failures[0]):l.lastResult}).then(function(l){if(s)try{ue(t,s,l)}catch{}return l})},e.prototype.delete=function(t){var r=this;return this._trans("readwrite",function(n){return r.core.mutate({trans:n,type:"delete",keys:[t]})}).then(function(n){return n.numFailures?M.reject(n.failures[0]):void 0})},e.prototype.clear=function(){var t=this;return this._trans("readwrite",function(r){return t.core.mutate({trans:r,type:"deleteRange",range:_i})}).then(function(r){return r.numFailures?M.reject(r.failures[0]):void 0})},e.prototype.bulkGet=function(t){var r=this;return this._trans("readonly",function(n){return r.core.getMany({keys:t,trans:n}).then(function(i){return i.map(function(a){return r.hook.reading.fire(a)})})})},e.prototype.bulkAdd=function(t,r,n){var i=this,a=Array.isArray(r)?r:void 0;n=n||(a?void 0:r);var s=n?n.allKeys:void 0;return this._trans("readwrite",function(o){var l=i.schema.primKey,c=l.auto,f=l.keyPath;if(f&&a)throw new N.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(a&&a.length!==t.length)throw new N.InvalidArgument("Arguments objects and keys must have the same length");var m=t.length,y=f&&c?t.map(At(f)):t;return i.core.mutate({trans:o,type:"add",keys:a,values:y,wantResults:s}).then(function(p){var d=p.numFailures,h=p.results,v=p.lastResult,T=p.failures,C=s?h:v;if(d===0)return C;throw new nt(i.name+".bulkAdd(): "+d+" of "+m+" operations failed",T)})})},e.prototype.bulkPut=function(t,r,n){var i=this,a=Array.isArray(r)?r:void 0;n=n||(a?void 0:r);var s=n?n.allKeys:void 0;return this._trans("readwrite",function(o){var l=i.schema.primKey,c=l.auto,f=l.keyPath;if(f&&a)throw new N.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(a&&a.length!==t.length)throw new N.InvalidArgument("Arguments objects and keys must have the same length");var m=t.length,y=f&&c?t.map(At(f)):t;return i.core.mutate({trans:o,type:"put",keys:a,values:y,wantResults:s}).then(function(p){var d=p.numFailures,h=p.results,v=p.lastResult,T=p.failures,C=s?h:v;if(d===0)return C;throw new nt(i.name+".bulkPut(): "+d+" of "+m+" operations failed",T)})})},e.prototype.bulkDelete=function(t){var r=this,n=t.length;return this._trans("readwrite",function(i){return r.core.mutate({trans:i,type:"delete",keys:t})}).then(function(i){var a=i.numFailures,s=i.lastResult,o=i.failures;if(a===0)return s;throw new nt(r.name+".bulkDelete(): "+a+" of "+n+" operations failed",o)})},e}();function vt(e){var t={},r=function(o,l){if(l){for(var c=arguments.length,f=new Array(c-1);--c;)f[c-1]=arguments[c];return t[o].subscribe.apply(null,f),e}else if(typeof o=="string")return t[o]};r.addEventType=a;for(var n=1,i=arguments.length;n<i;++n)a(arguments[n]);return r;function a(o,l,c){if(typeof o=="object")return s(o);l||(l=bs),c||(c=k);var f={subscribers:[],fire:c,subscribe:function(m){f.subscribers.indexOf(m)===-1&&(f.subscribers.push(m),f.fire=l(f.fire,m))},unsubscribe:function(m){f.subscribers=f.subscribers.filter(function(y){return y!==m}),f.fire=f.subscribers.reduce(l,c)}};return t[o]=r[o]=f,f}function s(o){z(o).forEach(function(l){var c=o[l];if(V(c))a(l,o[l][0],o[l][1]);else if(c==="asap")var f=a(l,pt,function(){for(var y=arguments.length,p=new Array(y);y--;)p[y]=arguments[y];f.subscribers.forEach(function(d){Zn(function(){d.apply(null,p)})})});else throw new N.InvalidArgument("Invalid event config")})}}function Tt(e,t){return Ye(t).from({prototype:e}),t}function ks(e){return Tt(qs.prototype,function(r,n,i){this.db=e,this._tx=i,this.name=r,this.schema=n,this.hook=e._allTables[r]?e._allTables[r].hook:vt(null,{creating:[gs,k],reading:[Ts,pt],updating:[As,k],deleting:[Cs,k]})})}function Ue(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function ir(e,t){e.filter=qe(e.filter,t)}function ar(e,t,r){var n=e.replayFilter;e.replayFilter=n?function(){return qe(n(),t())}:t,e.justLimit=r&&!n}function Us(e,t){e.isMatch=qe(e.isMatch,t)}function Ft(e,t){if(e.isPrimKey)return t.primaryKey;var r=t.getIndexByKeyPath(e.index);if(!r)throw new N.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return r}function Cn(e,t,r){var n=Ft(e,t.schema);return t.openCursor({trans:r,values:!e.keysOnly,reverse:e.dir==="prev",unique:!!e.unique,query:{index:n,range:e.range}})}function bt(e,t,r,n){var i=e.replayFilter?qe(e.filter,e.replayFilter()):e.filter;if(e.or){var a={},s=function(o,l,c){if(!i||i(l,c,function(y){return l.stop(y)},function(y){return l.fail(y)})){var f=l.primaryKey,m=""+f;m==="[object ArrayBuffer]"&&(m=""+new Uint8Array(f)),ee(a,m)||(a[m]=!0,t(o,l,c))}};return Promise.all([e.or._iterate(s,r),An(Cn(e,n,r),e.algorithm,s,!e.keysOnly&&e.valueMapper)])}else return An(Cn(e,n,r),qe(e.algorithm,i),t,!e.keysOnly&&e.valueMapper)}function An(e,t,r,n){var i=n?function(s,o,l){return r(n(s),o,l)}:r,a=K(i);return e.then(function(s){if(s)return s.start(function(){var o=function(){return s.continue()};(!t||t(s,function(l){return o=l},function(l){s.stop(l),o=k},function(l){s.fail(l),o=k}))&&a(s.value,s,function(l){return o=l}),o()})})}function Q(e,t){try{var r=bn(e),n=bn(t);if(r!==n)return r==="Array"?1:n==="Array"?-1:r==="binary"?1:n==="binary"?-1:r==="string"?1:n==="string"?-1:r==="Date"?1:n!=="Date"?NaN:-1;switch(r){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return Hs(Rn(e),Rn(t));case"Array":return Ks(e,t)}}catch{}return NaN}function Ks(e,t){for(var r=e.length,n=t.length,i=r<n?r:n,a=0;a<i;++a){var s=Q(e[a],t[a]);if(s!==0)return s}return r===n?0:r<n?-1:1}function Hs(e,t){for(var r=e.length,n=t.length,i=r<n?r:n,a=0;a<i;++a)if(e[a]!==t[a])return e[a]<t[a]?-1:1;return r===n?0:r<n?-1:1}function bn(e){var t=typeof e;if(t!=="object")return t;if(ArrayBuffer.isView(e))return"binary";var r=hr(e);return r==="ArrayBuffer"?"binary":r}function Rn(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}var zs=function(){function e(){}return e.prototype._read=function(t,r){var n=this._ctx;return n.error?n.table._trans(null,W.bind(null,n.error)):n.table._trans("readonly",t).then(r)},e.prototype._write=function(t){var r=this._ctx;return r.error?r.table._trans(null,W.bind(null,r.error)):r.table._trans("readwrite",t,"locked")},e.prototype._addAlgorithm=function(t){var r=this._ctx;r.algorithm=qe(r.algorithm,t)},e.prototype._iterate=function(t,r){return bt(this._ctx,t,r,this._ctx.table.core)},e.prototype.clone=function(t){var r=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return t&&$(n,t),r._ctx=n,r},e.prototype.raw=function(){return this._ctx.valueMapper=null,this},e.prototype.each=function(t){var r=this._ctx;return this._read(function(n){return bt(r,t,n,r.table.core)})},e.prototype.count=function(t){var r=this;return this._read(function(n){var i=r._ctx,a=i.table.core;if(Ue(i,!0))return a.count({trans:n,query:{index:Ft(i,a.schema),range:i.range}}).then(function(o){return Math.min(o,i.limit)});var s=0;return bt(i,function(){return++s,!1},n,a).then(function(){return s})}).then(t)},e.prototype.sortBy=function(t,r){var n=t.split(".").reverse(),i=n[0],a=n.length-1;function s(c,f){return f?s(c[n[f]],f-1):c[i]}var o=this._ctx.dir==="next"?1:-1;function l(c,f){var m=s(c,a),y=s(f,a);return m<y?-o:m>y?o:0}return this.toArray(function(c){return c.sort(l)}).then(r)},e.prototype.toArray=function(t){var r=this;return this._read(function(n){var i=r._ctx;if(i.dir==="next"&&Ue(i,!0)&&i.limit>0){var a=i.valueMapper,s=Ft(i,i.table.core.schema);return i.table.core.query({trans:n,limit:i.limit,values:!0,query:{index:s,range:i.range}}).then(function(l){var c=l.result;return a?c.map(a):c})}else{var o=[];return bt(i,function(l){return o.push(l)},n,i.table.core).then(function(){return o})}},t)},e.prototype.offset=function(t){var r=this._ctx;return t<=0?this:(r.offset+=t,Ue(r)?ar(r,function(){var n=t;return function(i,a){return n===0?!0:n===1?(--n,!1):(a(function(){i.advance(n),n=0}),!1)}}):ar(r,function(){var n=t;return function(){return--n<0}}),this)},e.prototype.limit=function(t){return this._ctx.limit=Math.min(this._ctx.limit,t),ar(this._ctx,function(){var r=t;return function(n,i,a){return--r<=0&&i(a),r>=0}},!0),this},e.prototype.until=function(t,r){return ir(this._ctx,function(n,i,a){return t(n.value)?(i(a),r):!0}),this},e.prototype.first=function(t){return this.limit(1).toArray(function(r){return r[0]}).then(t)},e.prototype.last=function(t){return this.reverse().first(t)},e.prototype.filter=function(t){return ir(this._ctx,function(r){return t(r.value)}),Us(this._ctx,t),this},e.prototype.and=function(t){return this.filter(t)},e.prototype.or=function(t){return new this.db.WhereClause(this._ctx.table,t,this)},e.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},e.prototype.desc=function(){return this.reverse()},e.prototype.eachKey=function(t){var r=this._ctx;return r.keysOnly=!r.isMatch,this.each(function(n,i){t(i.key,i)})},e.prototype.eachUniqueKey=function(t){return this._ctx.unique="unique",this.eachKey(t)},e.prototype.eachPrimaryKey=function(t){var r=this._ctx;return r.keysOnly=!r.isMatch,this.each(function(n,i){t(i.primaryKey,i)})},e.prototype.keys=function(t){var r=this._ctx;r.keysOnly=!r.isMatch;var n=[];return this.each(function(i,a){n.push(a.key)}).then(function(){return n}).then(t)},e.prototype.primaryKeys=function(t){var r=this._ctx;if(r.dir==="next"&&Ue(r,!0)&&r.limit>0)return this._read(function(i){var a=Ft(r,r.table.core.schema);return r.table.core.query({trans:i,values:!1,limit:r.limit,query:{index:a,range:r.range}})}).then(function(i){var a=i.result;return a}).then(t);r.keysOnly=!r.isMatch;var n=[];return this.each(function(i,a){n.push(a.primaryKey)}).then(function(){return n}).then(t)},e.prototype.uniqueKeys=function(t){return this._ctx.unique="unique",this.keys(t)},e.prototype.firstKey=function(t){return this.limit(1).keys(function(r){return r[0]}).then(t)},e.prototype.lastKey=function(t){return this.reverse().firstKey(t)},e.prototype.distinct=function(){var t=this._ctx,r=t.index&&t.table.schema.idxByName[t.index];if(!r||!r.multi)return this;var n={};return ir(this._ctx,function(i){var a=i.primaryKey.toString(),s=ee(n,a);return n[a]=!0,!s}),this},e.prototype.modify=function(t){var r=this,n=this._ctx;return this._write(function(i){var a;if(typeof t=="function")a=t;else{var s=z(t),o=s.length;a=function(T){for(var C=!1,g=0;g<o;++g){var A=s[g],_=t[A];Ie(T,A)!==_&&(ue(T,A,_),C=!0)}return C}}var l=n.table.core,c=l.schema.primaryKey,f=c.outbound,m=c.extractKey,y=r.db._options.modifyChunkSize||200,p=[],d=0,h=[],v=function(T,C){var g=C.failures,A=C.numFailures;d+=T-A;for(var _=0,b=z(g);_<b.length;_++){var D=b[_];p.push(g[D])}};return r.clone().primaryKeys().then(function(T){var C=function(g){var A=Math.min(y,T.length-g);return l.getMany({trans:i,keys:T.slice(g,g+A),cache:"immutable"}).then(function(_){for(var b=[],D=[],R=f?[]:null,P=[],w=0;w<A;++w){var x=_[w],q={value:Et(x),primKey:T[g+w]};a.call(q,q.value,q)!==!1&&(q.value==null?P.push(T[g+w]):!f&&Q(m(x),m(q.value))!==0?(P.push(T[g+w]),b.push(q.value)):(D.push(q.value),f&&R.push(T[g+w])))}var B=Ue(n)&&n.limit===1/0&&(typeof t!="function"||t===sr)&&{index:n.index,range:n.range};return Promise.resolve(b.length>0&&l.mutate({trans:i,type:"add",values:b}).then(function(J){for(var O in J.failures)P.splice(parseInt(O),1);v(b.length,J)})).then(function(){return(D.length>0||B&&typeof t=="object")&&l.mutate({trans:i,type:"put",keys:R,values:D,criteria:B,changeSpec:typeof t!="function"&&t}).then(function(J){return v(D.length,J)})}).then(function(){return(P.length>0||B&&t===sr)&&l.mutate({trans:i,type:"delete",keys:P,criteria:B}).then(function(J){return v(P.length,J)})}).then(function(){return T.length>g+A&&C(g+y)})})};return C(0).then(function(){if(p.length>0)throw new Gt("Error modifying one or more objects",p,d,h);return T.length})})})},e.prototype.delete=function(){var t=this._ctx,r=t.range;return Ue(t)&&(t.isPrimKey&&!xs||r.type===3)?this._write(function(n){var i=t.table.core.schema.primaryKey,a=r;return t.table.core.count({trans:n,query:{index:i,range:a}}).then(function(s){return t.table.core.mutate({trans:n,type:"deleteRange",range:a}).then(function(o){var l=o.failures;o.lastResult,o.results;var c=o.numFailures;if(c)throw new Gt("Could not delete some values",Object.keys(l).map(function(f){return l[f]}),s-c);return s-c})})}):this.modify(sr)},e}(),sr=function(e,t){return t.value=null};function Ws(e){return Tt(zs.prototype,function(r,n){this.db=e;var i=_i,a=null;if(n)try{i=n()}catch(c){a=c}var s=r._ctx,o=s.table,l=o.hook.reading.fire;this._ctx={table:o,index:s.index,isPrimKey:!s.index||o.schema.primKey.keyPath&&s.index===o.schema.primKey.name,range:i,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:a,or:s.or,valueMapper:l!==pt?l:null}})}function js(e,t){return e<t?-1:e===t?0:1}function Js(e,t){return e>t?-1:e===t?0:1}function Z(e,t,r){var n=e instanceof Ti?new e.Collection(e):e;return n._ctx.error=r?new r(t):new TypeError(t),n}function Ke(e){return new e.Collection(e,function(){return vi("")}).limit(0)}function Ys(e){return e==="next"?function(t){return t.toUpperCase()}:function(t){return t.toLowerCase()}}function Xs(e){return e==="next"?function(t){return t.toLowerCase()}:function(t){return t.toUpperCase()}}function Vs(e,t,r,n,i,a){for(var s=Math.min(e.length,n.length),o=-1,l=0;l<s;++l){var c=t[l];if(c!==n[l])return i(e[l],r[l])<0?e.substr(0,l)+r[l]+r.substr(l+1):i(e[l],n[l])<0?e.substr(0,l)+n[l]+r.substr(l+1):o>=0?e.substr(0,o)+t[o]+r.substr(o+1):null;i(e[l],c)<0&&(o=l)}return s<n.length&&a==="next"?e+r.substr(e.length):s<e.length&&a==="prev"?e.substr(0,r.length):o<0?null:e.substr(0,o)+n[o]+r.substr(o+1)}function Rt(e,t,r,n){var i,a,s,o,l,c,f,m=r.length;if(!r.every(function(h){return typeof h=="string"}))return Z(e,pi);function y(h){i=Ys(h),a=Xs(h),s=h==="next"?js:Js;var v=r.map(function(T){return{lower:a(T),upper:i(T)}}).sort(function(T,C){return s(T.lower,C.lower)});o=v.map(function(T){return T.upper}),l=v.map(function(T){return T.lower}),c=h,f=h==="next"?"":n}y("next");var p=new e.Collection(e,function(){return Me(o[0],l[m-1]+n)});p._ondirectionchange=function(h){y(h)};var d=0;return p._addAlgorithm(function(h,v,T){var C=h.key;if(typeof C!="string")return!1;var g=a(C);if(t(g,l,d))return!0;for(var A=null,_=d;_<m;++_){var b=Vs(C,g,o[_],l[_],s,c);b===null&&A===null?d=_+1:(A===null||s(A,b)>0)&&(A=b)}return v(A!==null?function(){h.continue(A+f)}:T),!1}),p}function Me(e,t,r,n){return{type:2,lower:e,upper:t,lowerOpen:r,upperOpen:n}}function vi(e){return{type:1,lower:e,upper:e}}var Ti=function(){function e(){}return Object.defineProperty(e.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),e.prototype.between=function(t,r,n,i){n=n!==!1,i=i===!0;try{return this._cmp(t,r)>0||this._cmp(t,r)===0&&(n||i)&&!(n&&i)?Ke(this):new this.Collection(this,function(){return Me(t,r,!n,!i)})}catch{return Z(this,me)}},e.prototype.equals=function(t){return t==null?Z(this,me):new this.Collection(this,function(){return vi(t)})},e.prototype.above=function(t){return t==null?Z(this,me):new this.Collection(this,function(){return Me(t,void 0,!0)})},e.prototype.aboveOrEqual=function(t){return t==null?Z(this,me):new this.Collection(this,function(){return Me(t,void 0,!1)})},e.prototype.below=function(t){return t==null?Z(this,me):new this.Collection(this,function(){return Me(void 0,t,!1,!0)})},e.prototype.belowOrEqual=function(t){return t==null?Z(this,me):new this.Collection(this,function(){return Me(void 0,t)})},e.prototype.startsWith=function(t){return typeof t!="string"?Z(this,pi):this.between(t,t+Le,!0,!0)},e.prototype.startsWithIgnoreCase=function(t){return t===""?this.startsWith(t):Rt(this,function(r,n){return r.indexOf(n[0])===0},[t],Le)},e.prototype.equalsIgnoreCase=function(t){return Rt(this,function(r,n){return r===n[0]},[t],"")},e.prototype.anyOfIgnoreCase=function(){var t=ye.apply(He,arguments);return t.length===0?Ke(this):Rt(this,function(r,n){return n.indexOf(r)!==-1},t,"")},e.prototype.startsWithAnyOfIgnoreCase=function(){var t=ye.apply(He,arguments);return t.length===0?Ke(this):Rt(this,function(r,n){return n.some(function(i){return r.indexOf(i)===0})},t,Le)},e.prototype.anyOf=function(){var t=this,r=ye.apply(He,arguments),n=this._cmp;try{r.sort(n)}catch{return Z(this,me)}if(r.length===0)return Ke(this);var i=new this.Collection(this,function(){return Me(r[0],r[r.length-1])});i._ondirectionchange=function(s){n=s==="next"?t._ascending:t._descending,r.sort(n)};var a=0;return i._addAlgorithm(function(s,o,l){for(var c=s.key;n(c,r[a])>0;)if(++a,a===r.length)return o(l),!1;return n(c,r[a])===0?!0:(o(function(){s.continue(r[a])}),!1)}),i},e.prototype.notEqual=function(t){return this.inAnyRange([[Rr,t],[t,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},e.prototype.noneOf=function(){var t=ye.apply(He,arguments);if(t.length===0)return new this.Collection(this);try{t.sort(this._ascending)}catch{return Z(this,me)}var r=t.reduce(function(n,i){return n?n.concat([[n[n.length-1][1],i]]):[[Rr,i]]},null);return r.push([t[t.length-1],this.db._maxKey]),this.inAnyRange(r,{includeLowers:!1,includeUppers:!1})},e.prototype.inAnyRange=function(t,r){var n=this,i=this._cmp,a=this._ascending,s=this._descending,o=this._min,l=this._max;if(t.length===0)return Ke(this);if(!t.every(function(_){return _[0]!==void 0&&_[1]!==void 0&&a(_[0],_[1])<=0}))return Z(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",N.InvalidArgument);var c=!r||r.includeLowers!==!1,f=r&&r.includeUppers===!0;function m(_,b){for(var D=0,R=_.length;D<R;++D){var P=_[D];if(i(b[0],P[1])<0&&i(b[1],P[0])>0){P[0]=o(P[0],b[0]),P[1]=l(P[1],b[1]);break}}return D===R&&_.push(b),_}var y=a;function p(_,b){return y(_[0],b[0])}var d;try{d=t.reduce(m,[]),d.sort(p)}catch{return Z(this,me)}var h=0,v=f?function(_){return a(_,d[h][1])>0}:function(_){return a(_,d[h][1])>=0},T=c?function(_){return s(_,d[h][0])>0}:function(_){return s(_,d[h][0])>=0};function C(_){return!v(_)&&!T(_)}var g=v,A=new this.Collection(this,function(){return Me(d[0][0],d[d.length-1][1],!c,!f)});return A._ondirectionchange=function(_){_==="next"?(g=v,y=a):(g=T,y=s),d.sort(p)},A._addAlgorithm(function(_,b,D){for(var R=_.key;g(R);)if(++h,h===d.length)return b(D),!1;return C(R)?!0:(n._cmp(R,d[h][1])===0||n._cmp(R,d[h][0])===0||b(function(){y===a?_.continue(d[h][0]):_.continue(d[h][1])}),!1)}),A},e.prototype.startsWithAnyOf=function(){var t=ye.apply(He,arguments);return t.every(function(r){return typeof r=="string"})?t.length===0?Ke(this):this.inAnyRange(t.map(function(r){return[r,r+Le]})):Z(this,"startsWithAnyOf() only works with strings")},e}();function Qs(e){return Tt(Ti.prototype,function(r,n,i){this.db=e,this._ctx={table:r,index:n===":id"?null:n,or:i};var a=e._deps.indexedDB;if(!a)throw new N.MissingAPI;this._cmp=this._ascending=a.cmp.bind(a),this._descending=function(s,o){return a.cmp(o,s)},this._max=function(s,o){return a.cmp(s,o)>0?s:o},this._min=function(s,o){return a.cmp(s,o)<0?s:o},this._IDBKeyRange=e._deps.IDBKeyRange})}function fe(e){return K(function(t){return ct(t),e(t.target.error),!1})}function ct(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}var ft="storagemutated",De="x-storagemutated-1",we=vt(null,ft),$s=function(){function e(){}return e.prototype._lock=function(){return tt(!S.global),++this._reculock,this._reculock===1&&!S.global&&(S.lockOwnerFor=this),this},e.prototype._unlock=function(){if(tt(!S.global),--this._reculock===0)for(S.global||(S.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{Qe(t[1],t[0])}catch{}}return this},e.prototype._locked=function(){return this._reculock&&S.lockOwnerFor!==this},e.prototype.create=function(t){var r=this;if(!this.mode)return this;var n=this.db.idbdb,i=this.db._state.dbOpenError;if(tt(!this.idbtrans),!t&&!n)switch(i&&i.name){case"DatabaseClosedError":throw new N.DatabaseClosed(i);case"MissingAPIError":throw new N.MissingAPI(i.message,i);default:throw new N.OpenFailed(i)}if(!this.active)throw new N.TransactionInactive;return tt(this._completion._state===null),t=this.idbtrans=t||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):n.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})),t.onerror=K(function(a){ct(a),r._reject(t.error)}),t.onabort=K(function(a){ct(a),r.active&&r._reject(new N.Abort(t.error)),r.active=!1,r.on("abort").fire(a)}),t.oncomplete=K(function(){r.active=!1,r._resolve(),"mutatedParts"in t&&we.storagemutated.fire(t.mutatedParts)}),this},e.prototype._promise=function(t,r,n){var i=this;if(t==="readwrite"&&this.mode!=="readwrite")return W(new N.ReadOnly("Transaction is readonly"));if(!this.active)return W(new N.TransactionInactive);if(this._locked())return new M(function(s,o){i._blockedFuncs.push([function(){i._promise(t,r,n).then(s,o)},S])});if(n)return Pe(function(){var s=new M(function(o,l){i._lock();var c=r(o,l,i);c&&c.then&&c.then(o,l)});return s.finally(function(){return i._unlock()}),s._lib=!0,s});var a=new M(function(s,o){var l=r(s,o,i);l&&l.then&&l.then(s,o)});return a._lib=!0,a},e.prototype._root=function(){return this.parent?this.parent._root():this},e.prototype.waitFor=function(t){var r=this._root(),n=M.resolve(t);if(r._waitingFor)r._waitingFor=r._waitingFor.then(function(){return n});else{r._waitingFor=n,r._waitingQueue=[];var i=r.idbtrans.objectStore(r.storeNames[0]);(function s(){for(++r._spinCount;r._waitingQueue.length;)r._waitingQueue.shift()();r._waitingFor&&(i.get(-1/0).onsuccess=s)})()}var a=r._waitingFor;return new M(function(s,o){n.then(function(l){return r._waitingQueue.push(K(s.bind(null,l)))},function(l){return r._waitingQueue.push(K(o.bind(null,l)))}).finally(function(){r._waitingFor===a&&(r._waitingFor=null)})})},e.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new N.Abort))},e.prototype.table=function(t){var r=this._memoizedTables||(this._memoizedTables={});if(ee(r,t))return r[t];var n=this.schema[t];if(!n)throw new N.NotFound("Table "+t+" not part of transaction");var i=new this.db.Table(t,n,this);return i.core=this.db.core.table(t),r[t]=i,i},e}();function Zs(e){return Tt($s.prototype,function(r,n,i,a,s){var o=this;this.db=e,this.mode=r,this.storeNames=n,this.schema=i,this.chromeTransactionDurability=a,this.idbtrans=null,this.on=vt(this,"complete","error","abort"),this.parent=s||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new M(function(l,c){o._resolve=l,o._reject=c}),this._completion.then(function(){o.active=!1,o.on.complete.fire()},function(l){var c=o.active;return o.active=!1,o.on.error.fire(l),o.parent?o.parent._reject(l):c&&o.idbtrans&&o.idbtrans.abort(),W(l)})})}function Mr(e,t,r,n,i,a,s){return{name:e,keyPath:t,unique:r,multi:n,auto:i,compound:a,src:(r&&!s?"&":"")+(n?"*":"")+(i?"++":"")+gi(t)}}function gi(e){return typeof e=="string"?e:e?"["+[].join.call(e,"+")+"]":""}function Ci(e,t,r){return{name:e,primKey:t,indexes:r,mappedClass:null,idxByName:ei(r,function(n){return[n.name,n]})}}function eo(e){return e.length===1?e[0]:e}var dt=function(e){try{return e.only([[]]),dt=function(){return[[]]},[[]]}catch{return dt=function(){return Le},Le}};function Sr(e){return e==null?function(){}:typeof e=="string"?to(e):function(t){return Ie(t,e)}}function to(e){var t=e.split(".");return t.length===1?function(r){return r[e]}:function(r){return Ie(r,e)}}function Mn(e){return[].slice.call(e)}var ro=0;function at(e){return e==null?":id":typeof e=="string"?e:"["+e.join("+")+"]"}function no(e,t,r){function n(m,y){var p=Mn(m.objectStoreNames);return{schema:{name:m.name,tables:p.map(function(d){return y.objectStore(d)}).map(function(d){var h=d.keyPath,v=d.autoIncrement,T=V(h),C=h==null,g={},A={name:d.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:C,compound:T,keyPath:h,autoIncrement:v,unique:!0,extractKey:Sr(h)},indexes:Mn(d.indexNames).map(function(_){return d.index(_)}).map(function(_){var b=_.name,D=_.unique,R=_.multiEntry,P=_.keyPath,w=V(P),x={name:b,compound:w,keyPath:P,unique:D,multiEntry:R,extractKey:Sr(P)};return g[at(P)]=x,x}),getIndexByKeyPath:function(_){return g[at(_)]}};return g[":id"]=A.primaryKey,h!=null&&(g[at(h)]=A.primaryKey),A})},hasGetAll:p.length>0&&"getAll"in y.objectStore(p[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}function i(m){if(m.type===3)return null;if(m.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var y=m.lower,p=m.upper,d=m.lowerOpen,h=m.upperOpen,v=y===void 0?p===void 0?null:t.upperBound(p,!!h):p===void 0?t.lowerBound(y,!!d):t.bound(y,p,!!d,!!h);return v}function a(m){var y=m.name;function p(v){var T=v.trans,C=v.type,g=v.keys,A=v.values,_=v.range;return new Promise(function(b,D){b=K(b);var R=T.objectStore(y),P=R.keyPath==null,w=C==="put"||C==="add";if(!w&&C!=="delete"&&C!=="deleteRange")throw new Error("Invalid operation type: "+C);var x=(g||A||{length:1}).length;if(g&&A&&g.length!==A.length)throw new Error("Given keys array must have same length as given values array.");if(x===0)return b({numFailures:0,failures:{},results:[],lastResult:void 0});var q,B=[],J=[],O=0,te=function(ce){++O,ct(ce)};if(C==="deleteRange"){if(_.type===4)return b({numFailures:O,failures:J,results:[],lastResult:void 0});_.type===3?B.push(q=R.clear()):B.push(q=R.delete(i(_)))}else{var ie=w?P?[A,g]:[A,null]:[g,null],ge=ie[0],le=ie[1];if(w)for(var re=0;re<x;++re)B.push(q=le&&le[re]!==void 0?R[C](ge[re],le[re]):R[C](ge[re])),q.onerror=te;else for(var re=0;re<x;++re)B.push(q=R[C](ge[re])),q.onerror=te}var Ce=function(ce){var $e=ce.target.result;B.forEach(function(ae,gt){return ae.error!=null&&(J[gt]=ae.error)}),b({numFailures:O,failures:J,results:C==="delete"?g:B.map(function(ae){return ae.result}),lastResult:$e})};q.onerror=function(ce){te(ce),Ce(ce)},q.onsuccess=Ce})}function d(v){var T=v.trans,C=v.values,g=v.query,A=v.reverse,_=v.unique;return new Promise(function(b,D){b=K(b);var R=g.index,P=g.range,w=T.objectStore(y),x=R.isPrimaryKey?w:w.index(R.name),q=A?_?"prevunique":"prev":_?"nextunique":"next",B=C||!("openKeyCursor"in x)?x.openCursor(i(P),q):x.openKeyCursor(i(P),q);B.onerror=fe(D),B.onsuccess=K(function(J){var O=B.result;if(!O){b(null);return}O.___id=++ro,O.done=!1;var te=O.continue.bind(O),ie=O.continuePrimaryKey;ie&&(ie=ie.bind(O));var ge=O.advance.bind(O),le=function(){throw new Error("Cursor not started")},re=function(){throw new Error("Cursor not stopped")};O.trans=T,O.stop=O.continue=O.continuePrimaryKey=O.advance=le,O.fail=K(D),O.next=function(){var Ce=this,ce=1;return this.start(function(){return ce--?Ce.continue():Ce.stop()}).then(function(){return Ce})},O.start=function(Ce){var ce=new Promise(function(ae,gt){ae=K(ae),B.onerror=fe(gt),O.fail=gt,O.stop=function(Si){O.stop=O.continue=O.continuePrimaryKey=O.advance=re,ae(Si)}}),$e=function(){if(B.result)try{Ce()}catch(ae){O.fail(ae)}else O.done=!0,O.start=function(){throw new Error("Cursor behind last entry")},O.stop()};return B.onsuccess=K(function(ae){B.onsuccess=$e,$e()}),O.continue=te,O.continuePrimaryKey=ie,O.advance=ge,$e(),ce},b(O)},D)})}function h(v){return function(T){return new Promise(function(C,g){C=K(C);var A=T.trans,_=T.values,b=T.limit,D=T.query,R=b===1/0?void 0:b,P=D.index,w=D.range,x=A.objectStore(y),q=P.isPrimaryKey?x:x.index(P.name),B=i(w);if(b===0)return C({result:[]});if(v){var J=_?q.getAll(B,R):q.getAllKeys(B,R);J.onsuccess=function(ge){return C({result:ge.target.result})},J.onerror=fe(g)}else{var O=0,te=_||!("openKeyCursor"in q)?q.openCursor(B):q.openKeyCursor(B),ie=[];te.onsuccess=function(ge){var le=te.result;if(!le)return C({result:ie});if(ie.push(_?le.value:le.primaryKey),++O===b)return C({result:ie});le.continue()},te.onerror=fe(g)}})}}return{name:y,schema:m,mutate:p,getMany:function(v){var T=v.trans,C=v.keys;return new Promise(function(g,A){g=K(g);for(var _=T.objectStore(y),b=C.length,D=new Array(b),R=0,P=0,w,x=function(O){var te=O.target;(D[te._pos]=te.result)!=null,++P===R&&g(D)},q=fe(A),B=0;B<b;++B){var J=C[B];J!=null&&(w=_.get(C[B]),w._pos=B,w.onsuccess=x,w.onerror=q,++R)}R===0&&g(D)})},get:function(v){var T=v.trans,C=v.key;return new Promise(function(g,A){g=K(g);var _=T.objectStore(y),b=_.get(C);b.onsuccess=function(D){return g(D.target.result)},b.onerror=fe(A)})},query:h(l),openCursor:d,count:function(v){var T=v.query,C=v.trans,g=T.index,A=T.range;return new Promise(function(_,b){var D=C.objectStore(y),R=g.isPrimaryKey?D:D.index(g.name),P=i(A),w=P?R.count(P):R.count();w.onsuccess=K(function(x){return _(x.target.result)}),w.onerror=fe(b)})}}}var s=n(e,r),o=s.schema,l=s.hasGetAll,c=o.tables.map(function(m){return a(m)}),f={};return c.forEach(function(m){return f[m.name]=m}),{stack:"dbcore",transaction:e.transaction.bind(e),table:function(m){var y=f[m];if(!y)throw new Error("Table '"+m+"' not found");return f[m]},MIN_KEY:-1/0,MAX_KEY:dt(t),schema:o}}function io(e,t){return t.reduce(function(r,n){var i=n.create;return L(L({},r),i(r))},e)}function ao(e,t,r,n){var i=r.IDBKeyRange;r.indexedDB;var a=io(no(t,i,n),e.dbcore);return{dbcore:a}}function Vr(e,t){var r=e._novip,n=t.db,i=ao(r._middlewares,n,r._deps,t);r.core=i.dbcore,r.tables.forEach(function(a){var s=a.name;r.core.schema.tables.some(function(o){return o.name===s})&&(a.core=r.core.table(s),r[s]instanceof r.Table&&(r[s].core=a.core))})}function Kt(e,t,r,n){var i=e._novip;r.forEach(function(a){var s=n[a];t.forEach(function(o){var l=Ur(o,a);(!l||"value"in l&&l.value===void 0)&&(o===i.Transaction.prototype||o instanceof i.Transaction?_e(o,a,{get:function(){return this.table(a)},set:function(c){Qn(this,a,{value:c,writable:!0,configurable:!0,enumerable:!0})}}):o[a]=new i.Table(a,s))})})}function Dr(e,t){var r=e._novip;t.forEach(function(n){for(var i in n)n[i]instanceof r.Table&&delete n[i]})}function so(e,t){return e._cfg.version-t._cfg.version}function oo(e,t,r,n){var i=e._dbSchema,a=e._createTransaction("readwrite",e._storeNames,i);a.create(r),a._completion.catch(n);var s=a._reject.bind(a),o=S.transless||S;Pe(function(){S.trans=a,S.transless=o,t===0?(z(i).forEach(function(l){Qr(r,l,i[l].primKey,i[l].indexes)}),Vr(e,r),M.follow(function(){return e.on.populate.fire(a)}).catch(s)):uo(e,t,a,r).catch(s)})}function uo(e,t,r,n){var i=e._novip,a=[],s=i._versions,o=i._dbSchema=$r(i,i.idbdb,n),l=!1,c=s.filter(function(m){return m._cfg.version>=t});c.forEach(function(m){a.push(function(){var y=o,p=m._cfg.dbschema;Nr(i,y,n),Nr(i,p,n),o=i._dbSchema=p;var d=Ai(y,p);d.add.forEach(function(A){Qr(n,A[0],A[1].primKey,A[1].indexes)}),d.change.forEach(function(A){if(A.recreate)throw new N.Upgrade("Not yet support for changing primary key");var _=n.objectStore(A.name);A.add.forEach(function(b){return Pr(_,b)}),A.change.forEach(function(b){_.deleteIndex(b.name),Pr(_,b)}),A.del.forEach(function(b){return _.deleteIndex(b)})});var h=m._cfg.contentUpgrade;if(h&&m._cfg.version>t){Vr(i,n),r._memoizedTables={},l=!0;var v=ti(p);d.del.forEach(function(A){v[A]=y[A]}),Dr(i,[i.Transaction.prototype]),Kt(i,[i.Transaction.prototype],z(v),v),r.schema=v;var T=Kr(h);T&&Ve();var C,g=M.follow(function(){if(C=h(r),C&&T){var A=ve.bind(null,null);C.then(A,A)}});return C&&typeof C.then=="function"?M.resolve(C):g.then(function(){return C})}}),a.push(function(y){if(!l||!Bs){var p=m._cfg.dbschema;co(p,y)}Dr(i,[i.Transaction.prototype]),Kt(i,[i.Transaction.prototype],i._storeNames,i._dbSchema),r.schema=i._dbSchema})});function f(){return a.length?M.resolve(a.shift()(r.idbtrans)).then(f):M.resolve()}return f().then(function(){lo(o,n)})}function Ai(e,t){var r={del:[],add:[],change:[]},n;for(n in e)t[n]||r.del.push(n);for(n in t){var i=e[n],a=t[n];if(!i)r.add.push([n,a]);else{var s={name:n,def:a,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(a.primKey.keyPath||"")||i.primKey.auto!==a.primKey.auto&&!Vt)s.recreate=!0,r.change.push(s);else{var o=i.idxByName,l=a.idxByName,c=void 0;for(c in o)l[c]||s.del.push(c);for(c in l){var f=o[c],m=l[c];f?f.src!==m.src&&s.change.push(m):s.add.push(m)}(s.del.length>0||s.add.length>0||s.change.length>0)&&r.change.push(s)}}}return r}function Qr(e,t,r,n){var i=e.db.createObjectStore(t,r.keyPath?{keyPath:r.keyPath,autoIncrement:r.auto}:{autoIncrement:r.auto});return n.forEach(function(a){return Pr(i,a)}),i}function lo(e,t){z(e).forEach(function(r){t.db.objectStoreNames.contains(r)||Qr(t,r,e[r].primKey,e[r].indexes)})}function co(e,t){[].slice.call(t.db.objectStoreNames).forEach(function(r){return e[r]==null&&t.db.deleteObjectStore(r)})}function Pr(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function $r(e,t,r){var n={},i=Yt(t.objectStoreNames,0);return i.forEach(function(a){for(var s=r.objectStore(a),o=s.keyPath,l=Mr(gi(o),o||"",!1,!1,!!s.autoIncrement,o&&typeof o!="string",!0),c=[],f=0;f<s.indexNames.length;++f){var m=s.index(s.indexNames[f]);o=m.keyPath;var y=Mr(m.name,o,!!m.unique,!!m.multiEntry,!1,o&&typeof o!="string",!1);c.push(y)}n[a]=Ci(a,l,c)}),n}function fo(e,t,r){var n=e._novip;n.verno=t.version/10;var i=n._dbSchema=$r(n,t,r);n._storeNames=Yt(t.objectStoreNames,0),Kt(n,[n._allTables],z(i),i)}function mo(e,t){var r=$r(e,e.idbdb,t),n=Ai(r,e._dbSchema);return!(n.add.length||n.change.some(function(i){return i.add.length||i.change.length}))}function Nr(e,t,r){for(var n=e._novip,i=r.db.objectStoreNames,a=0;a<i.length;++a){var s=i[a],o=r.objectStore(s);n._hasGetAll="getAll"in o;for(var l=0;l<o.indexNames.length;++l){var c=o.indexNames[l],f=o.index(c).keyPath,m=typeof f=="string"?f:"["+Yt(f).join("+")+"]";if(t[s]){var y=t[s].idxByName[m];y&&(y.name=c,delete t[s].idxByName[m],t[s].idxByName[c]=y)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&U.WorkerGlobalScope&&U instanceof U.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(n._hasGetAll=!1)}function ho(e){return e.split(",").map(function(t,r){t=t.trim();var n=t.replace(/([&*]|\+\+)/g,""),i=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;return Mr(n,i||null,/\&/.test(t),/\*/.test(t),/\+\+/.test(t),V(i),r===0)})}var yo=function(){function e(){}return e.prototype._parseStoresSpec=function(t,r){z(t).forEach(function(n){if(t[n]!==null){var i=ho(t[n]),a=i.shift();if(a.multi)throw new N.Schema("Primary key cannot be multi-valued");i.forEach(function(s){if(s.auto)throw new N.Schema("Only primary key can be marked as autoIncrement (++)");if(!s.keyPath)throw new N.Schema("Index must have a name and cannot be an empty string")}),r[n]=Ci(n,a,i)}})},e.prototype.stores=function(t){var r=this.db;this._cfg.storesSource=this._cfg.storesSource?$(this._cfg.storesSource,t):t;var n=r._versions,i={},a={};return n.forEach(function(s){$(i,s._cfg.storesSource),a=s._cfg.dbschema={},s._parseStoresSpec(i,a)}),r._dbSchema=a,Dr(r,[r._allTables,r,r.Transaction.prototype]),Kt(r,[r._allTables,r,r.Transaction.prototype,this._cfg.tables],z(a),a),r._storeNames=z(a),this},e.prototype.upgrade=function(t){return this._cfg.contentUpgrade=Wr(this._cfg.contentUpgrade||k,t),this},e}();function Eo(e){return Tt(yo.prototype,function(r){this.db=e,this._cfg={version:r,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}function Zr(e,t){var r=e._dbNamesDB;return r||(r=e._dbNamesDB=new nn(Qt,{addons:[],indexedDB:e,IDBKeyRange:t}),r.version(1).stores({dbnames:"name"})),r.table("dbnames")}function en(e){return e&&typeof e.databases=="function"}function po(e){var t=e.indexedDB,r=e.IDBKeyRange;return en(t)?Promise.resolve(t.databases()).then(function(n){return n.map(function(i){return i.name}).filter(function(i){return i!==Qt})}):Zr(t,r).toCollection().primaryKeys()}function Io(e,t){var r=e.indexedDB,n=e.IDBKeyRange;!en(r)&&t!==Qt&&Zr(r,n).put({name:t}).catch(k)}function _o(e,t){var r=e.indexedDB,n=e.IDBKeyRange;!en(r)&&t!==Qt&&Zr(r,n).delete(t).catch(k)}function wr(e){return Pe(function(){return S.letThrough=!0,e()})}function vo(){var e=!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent);if(!e||!indexedDB.databases)return Promise.resolve();var t;return new Promise(function(r){var n=function(){return indexedDB.databases().finally(r)};t=setInterval(n,100),n()}).finally(function(){return clearInterval(t)})}function To(e){var t=e._state,r=e._deps.indexedDB;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(function(){return t.dbOpenError?W(t.dbOpenError):e});de&&(t.openCanceller._stackHolder=ke()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;var n=t.openCanceller;function i(){if(t.openCanceller!==n)throw new N.DatabaseClosed("db.open() was cancelled")}var a=t.dbReadyResolve,s=null,o=!1;return M.race([n,(typeof navigator>"u"?M.resolve():vo()).then(function(){return new M(function(l,c){if(i(),!r)throw new N.MissingAPI;var f=e.name,m=t.autoSchema?r.open(f):r.open(f,Math.round(e.verno*10));if(!m)throw new N.MissingAPI;m.onerror=fe(c),m.onblocked=K(e._fireOnBlocked),m.onupgradeneeded=K(function(y){if(s=m.transaction,t.autoSchema&&!e._options.allowEmptyDB){m.onerror=ct,s.abort(),m.result.close();var p=r.deleteDatabase(f);p.onsuccess=p.onerror=K(function(){c(new N.NoSuchDatabase("Database "+f+" doesnt exist"))})}else{s.onerror=fe(c);var d=y.oldVersion>Math.pow(2,62)?0:y.oldVersion;o=d<1,e._novip.idbdb=m.result,oo(e,d/10,s,c)}},c),m.onsuccess=K(function(){s=null;var y=e._novip.idbdb=m.result,p=Yt(y.objectStoreNames);if(p.length>0)try{var d=y.transaction(eo(p),"readonly");t.autoSchema?fo(e,y,d):(Nr(e,e._dbSchema,d),mo(e,d)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),Vr(e,d)}catch{}it.push(e),y.onversionchange=K(function(h){t.vcFired=!0,e.on("versionchange").fire(h)}),y.onclose=K(function(h){e.on("close").fire(h)}),o&&Io(e._deps,f),l()},c)})})]).then(function(){return i(),t.onReadyBeingFired=[],M.resolve(wr(function(){return e.on.ready.fire(e.vip)})).then(function l(){if(t.onReadyBeingFired.length>0){var c=t.onReadyBeingFired.reduce(Wr,k);return t.onReadyBeingFired=[],M.resolve(wr(function(){return c(e.vip)})).then(l)}})}).finally(function(){t.onReadyBeingFired=null,t.isBeingOpened=!1}).then(function(){return e}).catch(function(l){t.dbOpenError=l;try{s&&s.abort()}catch{}return n===t.openCanceller&&e._close(),W(l)}).finally(function(){t.openComplete=!0,a()})}function Or(e){var t=function(s){return e.next(s)},r=function(s){return e.throw(s)},n=a(t),i=a(r);function a(s){return function(o){var l=s(o),c=l.value;return l.done?c:!c||typeof c.then!="function"?V(c)?Promise.all(c).then(n,i):n(c):c.then(n,i)}}return a(t)()}function go(e,t,r){var n=arguments.length;if(n<2)throw new N.InvalidArgument("Too few arguments");for(var i=new Array(n-1);--n;)i[n-1]=arguments[n];r=i.pop();var a=ri(i);return[e,a,r]}function bi(e,t,r,n,i){return M.resolve().then(function(){var a=S.transless||S,s=e._createTransaction(t,r,e._dbSchema,n),o={trans:s,transless:a};if(n)s.idbtrans=n.idbtrans;else try{s.create(),e._state.PR1398_maxLoop=3}catch(m){return m.name===zr.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(function(){return bi(e,t,r,null,i)})):W(m)}var l=Kr(i);l&&Ve();var c,f=M.follow(function(){if(c=i.call(s,s),c)if(l){var m=ve.bind(null,null);c.then(m,m)}else typeof c.next=="function"&&typeof c.throw=="function"&&(c=Or(c))},o);return(c&&typeof c.then=="function"?M.resolve(c).then(function(m){return s.active?m:W(new N.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):f.then(function(){return c})).then(function(m){return n&&s._resolve(),s._completion.then(function(){return m})}).catch(function(m){return s._reject(m),W(m)})})}function Mt(e,t,r){for(var n=V(e)?e.slice():[e],i=0;i<r;++i)n.push(t);return n}function Co(e){return L(L({},e),{table:function(t){var r=e.table(t),n=r.schema,i={},a=[];function s(h,v,T){var C=at(h),g=i[C]=i[C]||[],A=h==null?0:typeof h=="string"?1:h.length,_=v>0,b=L(L({},T),{isVirtual:_,keyTail:v,keyLength:A,extractKey:Sr(h),unique:!_&&T.unique});if(g.push(b),b.isPrimaryKey||a.push(b),A>1){var D=A===2?h[0]:h.slice(0,A-1);s(D,v+1,T)}return g.sort(function(R,P){return R.keyTail-P.keyTail}),b}var o=s(n.primaryKey.keyPath,0,n.primaryKey);i[":id"]=[o];for(var l=0,c=n.indexes;l<c.length;l++){var f=c[l];s(f.keyPath,0,f)}function m(h){var v=i[at(h)];return v&&v[0]}function y(h,v){return{type:h.type===1?2:h.type,lower:Mt(h.lower,h.lowerOpen?e.MAX_KEY:e.MIN_KEY,v),lowerOpen:!0,upper:Mt(h.upper,h.upperOpen?e.MIN_KEY:e.MAX_KEY,v),upperOpen:!0}}function p(h){var v=h.query.index;return v.isVirtual?L(L({},h),{query:{index:v,range:y(h.query.range,v.keyTail)}}):h}var d=L(L({},r),{schema:L(L({},n),{primaryKey:o,indexes:a,getIndexByKeyPath:m}),count:function(h){return r.count(p(h))},query:function(h){return r.query(p(h))},openCursor:function(h){var v=h.query.index,T=v.keyTail,C=v.isVirtual,g=v.keyLength;if(!C)return r.openCursor(h);function A(_){function b(R){R!=null?_.continue(Mt(R,h.reverse?e.MAX_KEY:e.MIN_KEY,T)):h.unique?_.continue(_.key.slice(0,g).concat(h.reverse?e.MIN_KEY:e.MAX_KEY,T)):_.continue()}var D=Object.create(_,{continue:{value:b},continuePrimaryKey:{value:function(R,P){_.continuePrimaryKey(Mt(R,e.MAX_KEY,T),P)}},primaryKey:{get:function(){return _.primaryKey}},key:{get:function(){var R=_.key;return g===1?R[0]:R.slice(0,g)}},value:{get:function(){return _.value}}});return D}return r.openCursor(p(h)).then(function(_){return _&&A(_)})}});return d}})}var Ao={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:Co};function tn(e,t,r,n){return r=r||{},n=n||"",z(e).forEach(function(i){if(!ee(t,i))r[n+i]=void 0;else{var a=e[i],s=t[i];if(typeof a=="object"&&typeof s=="object"&&a&&s){var o=hr(a),l=hr(s);o!==l?r[n+i]=t[i]:o==="Object"?tn(a,s,r,n+i+"."):a!==s&&(r[n+i]=t[i])}else a!==s&&(r[n+i]=t[i])}}),z(t).forEach(function(i){ee(e,i)||(r[n+i]=t[i])}),r}function bo(e,t){return t.type==="delete"?t.keys:t.keys||t.values.map(e.extractKey)}var Ro={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(e){return L(L({},e),{table:function(t){var r=e.table(t),n=r.schema.primaryKey,i=L(L({},r),{mutate:function(a){var s=S.trans,o=s.table(t).hook,l=o.deleting,c=o.creating,f=o.updating;switch(a.type){case"add":if(c.fire===k)break;return s._promise("readwrite",function(){return m(a)},!0);case"put":if(c.fire===k&&f.fire===k)break;return s._promise("readwrite",function(){return m(a)},!0);case"delete":if(l.fire===k)break;return s._promise("readwrite",function(){return m(a)},!0);case"deleteRange":if(l.fire===k)break;return s._promise("readwrite",function(){return y(a)},!0)}return r.mutate(a);function m(d){var h=S.trans,v=d.keys||bo(n,d);if(!v)throw new Error("Keys missing");return d=d.type==="add"||d.type==="put"?L(L({},d),{keys:v}):L({},d),d.type!=="delete"&&(d.values=dr([],d.values,!0)),d.keys&&(d.keys=dr([],d.keys,!0)),Mo(r,d,v).then(function(T){var C=v.map(function(g,A){var _=T[A],b={onerror:null,onsuccess:null};if(d.type==="delete")l.fire.call(b,g,_,h);else if(d.type==="add"||_===void 0){var D=c.fire.call(b,g,d.values[A],h);g==null&&D!=null&&(g=D,d.keys[A]=g,n.outbound||ue(d.values[A],n.keyPath,g))}else{var R=tn(_,d.values[A]),P=f.fire.call(b,R,g,_,h);if(P){var w=d.values[A];Object.keys(P).forEach(function(x){ee(w,x)?w[x]=P[x]:ue(w,x,P[x])})}}return b});return r.mutate(d).then(function(g){for(var A=g.failures,_=g.results,b=g.numFailures,D=g.lastResult,R=0;R<v.length;++R){var P=_?_[R]:v[R],w=C[R];P==null?w.onerror&&w.onerror(A[R]):w.onsuccess&&w.onsuccess(d.type==="put"&&T[R]?d.values[R]:P)}return{failures:A,results:_,numFailures:b,lastResult:D}}).catch(function(g){return C.forEach(function(A){return A.onerror&&A.onerror(g)}),Promise.reject(g)})})}function y(d){return p(d.trans,d.range,1e4)}function p(d,h,v){return r.query({trans:d,values:!1,query:{index:n,range:h},limit:v}).then(function(T){var C=T.result;return m({type:"delete",keys:C,trans:d}).then(function(g){return g.numFailures>0?Promise.reject(g.failures[0]):C.length<v?{failures:[],numFailures:0,lastResult:void 0}:p(d,L(L({},h),{lower:C[C.length-1],lowerOpen:!0}),v)})})}}});return i}})}};function Mo(e,t,r){return t.type==="add"?Promise.resolve([]):e.getMany({trans:t.trans,keys:r,cache:"immutable"})}function Ri(e,t,r){try{if(!t||t.keys.length<e.length)return null;for(var n=[],i=0,a=0;i<t.keys.length&&a<e.length;++i)Q(t.keys[i],e[a])===0&&(n.push(r?Et(t.values[i]):t.values[i]),++a);return n.length===e.length?n:null}catch{return null}}var So={stack:"dbcore",level:-1,create:function(e){return{table:function(t){var r=e.table(t);return L(L({},r),{getMany:function(n){if(!n.cache)return r.getMany(n);var i=Ri(n.keys,n.trans._cache,n.cache==="clone");return i?M.resolve(i):r.getMany(n).then(function(a){return n.trans._cache={keys:n.keys,values:n.cache==="clone"?Et(a):a},a})},mutate:function(n){return n.type!=="add"&&(n.trans._cache=null),r.mutate(n)}})}}}},or;function rn(e){return!("from"in e)}var he=function(e,t){if(this)$(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0});else{var r=new he;return e&&"d"in e&&$(r,e),r}};We(he.prototype,(or={add:function(e){return Ht(this,e),this},addKey:function(e){return mt(this,e,e),this},addKeys:function(e){var t=this;return e.forEach(function(r){return mt(t,r,r)}),this}},or[yr]=function(){return Lr(this)},or));function mt(e,t,r){var n=Q(t,r);if(!isNaN(n)){if(n>0)throw RangeError();if(rn(e))return $(e,{from:t,to:r,d:1});var i=e.l,a=e.r;if(Q(r,e.from)<0)return i?mt(i,t,r):e.l={from:t,to:r,d:1,l:null,r:null},Sn(e);if(Q(t,e.to)>0)return a?mt(a,t,r):e.r={from:t,to:r,d:1,l:null,r:null},Sn(e);Q(t,e.from)<0&&(e.from=t,e.l=null,e.d=a?a.d+1:1),Q(r,e.to)>0&&(e.to=r,e.r=null,e.d=e.l?e.l.d+1:1);var s=!e.r;i&&!e.l&&Ht(e,i),a&&s&&Ht(e,a)}}function Ht(e,t){function r(n,i){var a=i.from,s=i.to,o=i.l,l=i.r;mt(n,a,s),o&&r(n,o),l&&r(n,l)}rn(t)||r(e,t)}function Do(e,t){var r=Lr(t),n=r.next();if(n.done)return!1;for(var i=n.value,a=Lr(e),s=a.next(i.from),o=s.value;!n.done&&!s.done;){if(Q(o.from,i.to)<=0&&Q(o.to,i.from)>=0)return!0;Q(i.from,o.from)<0?i=(n=r.next(o.from)).value:o=(s=a.next(i.from)).value}return!1}function Lr(e){var t=rn(e)?null:{s:0,n:e};return{next:function(r){for(var n=arguments.length>0;t;)switch(t.s){case 0:if(t.s=1,n)for(;t.n.l&&Q(r,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!n||Q(r,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function Sn(e){var t,r,n=(((t=e.r)===null||t===void 0?void 0:t.d)||0)-(((r=e.l)===null||r===void 0?void 0:r.d)||0),i=n>1?"r":n<-1?"l":"";if(i){var a=i==="r"?"l":"r",s=L({},e),o=e[i];e.from=o.from,e.to=o.to,e[i]=o[i],s[i]=o[a],e[a]=s,s.d=Dn(s)}e.d=Dn(e)}function Dn(e){var t=e.r,r=e.l;return(t?r?Math.max(t.d,r.d):t.d:r?r.d:0)+1}var Po={stack:"dbcore",level:0,create:function(e){var t=e.schema.name,r=new he(e.MIN_KEY,e.MAX_KEY);return L(L({},e),{table:function(n){var i=e.table(n),a=i.schema,s=a.primaryKey,o=s.extractKey,l=s.outbound,c=L(L({},i),{mutate:function(y){var p=y.trans,d=p.mutatedParts||(p.mutatedParts={}),h=function(D){var R="idb://"+t+"/"+n+"/"+D;return d[R]||(d[R]=new he)},v=h(""),T=h(":dels"),C=y.type,g=y.type==="deleteRange"?[y.range]:y.type==="delete"?[y.keys]:y.values.length<50?[[],y.values]:[],A=g[0],_=g[1],b=y.trans._cache;return i.mutate(y).then(function(D){if(V(A)){C!=="delete"&&(A=D.results),v.addKeys(A);var R=Ri(A,b);!R&&C!=="add"&&T.addKeys(A),(R||_)&&No(h,a,R,_)}else if(A){var P={from:A.lower,to:A.upper};T.add(P),v.add(P)}else v.add(r),T.add(r),a.indexes.forEach(function(w){return h(w.name).add(r)});return D})}}),f=function(y){var p,d,h=y.query,v=h.index,T=h.range;return[v,new he((p=T.lower)!==null&&p!==void 0?p:e.MIN_KEY,(d=T.upper)!==null&&d!==void 0?d:e.MAX_KEY)]},m={get:function(y){return[s,new he(y.key)]},getMany:function(y){return[s,new he().addKeys(y.keys)]},count:f,query:f,openCursor:f};return z(m).forEach(function(y){c[y]=function(p){var d=S.subscr;if(d){var h=function(b){var D="idb://"+t+"/"+n+"/"+b;return d[D]||(d[D]=new he)},v=h(""),T=h(":dels"),C=m[y](p),g=C[0],A=C[1];if(h(g.name||"").add(A),!g.isPrimaryKey)if(y==="count")T.add(r);else{var _=y==="query"&&l&&p.values&&i.query(L(L({},p),{values:!1}));return i[y].apply(this,arguments).then(function(b){if(y==="query"){if(l&&p.values)return _.then(function(w){var x=w.result;return v.addKeys(x),b});var D=p.values?b.result.map(o):b.result;p.values?v.addKeys(D):T.addKeys(D)}else if(y==="openCursor"){var R=b,P=p.values;return R&&Object.create(R,{key:{get:function(){return T.addKey(R.primaryKey),R.key}},primaryKey:{get:function(){var w=R.primaryKey;return T.addKey(w),w}},value:{get:function(){return P&&v.addKey(R.primaryKey),R.value}}})}return b})}}return i[y].apply(this,arguments)}}),c}})}};function No(e,t,r,n){function i(a){var s=e(a.name||"");function o(c){return c!=null?a.extractKey(c):null}var l=function(c){return a.multiEntry&&V(c)?c.forEach(function(f){return s.addKey(f)}):s.addKey(c)};(r||n).forEach(function(c,f){var m=r&&o(r[f]),y=n&&o(n[f]);Q(m,y)!==0&&(m!=null&&l(m),y!=null&&l(y))})}t.indexes.forEach(i)}var nn=function(){function e(t,r){var n=this;this._middlewares={},this.verno=0;var i=e.dependencies;this._options=r=L({addons:e.addons,autoOpen:!0,indexedDB:i.indexedDB,IDBKeyRange:i.IDBKeyRange},r),this._deps={indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange};var a=r.addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var s={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:k,dbReadyPromise:null,cancelOpen:k,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};s.dbReadyPromise=new M(function(o){s.dbReadyResolve=o}),s.openCanceller=new M(function(o,l){s.cancelOpen=l}),this._state=s,this.name=t,this.on=vt(this,"populate","blocked","versionchange","close",{ready:[Wr,k]}),this.on.ready.subscribe=$n(this.on.ready.subscribe,function(o){return function(l,c){e.vip(function(){var f=n._state;if(f.openComplete)f.dbOpenError||M.resolve().then(l),c&&o(l);else if(f.onReadyBeingFired)f.onReadyBeingFired.push(l),c&&o(l);else{o(l);var m=n;c||o(function y(){m.on.ready.unsubscribe(l),m.on.ready.unsubscribe(y)})}})}}),this.Collection=Ws(this),this.Table=ks(this),this.Transaction=Zs(this),this.Version=Eo(this),this.WhereClause=Qs(this),this.on("versionchange",function(o){o.newVersion>0?console.warn("Another connection wants to upgrade database '"+n.name+"'. Closing db now to resume the upgrade."):console.warn("Another connection wants to delete database '"+n.name+"'. Closing db now to resume the delete request."),n.close()}),this.on("blocked",function(o){!o.newVersion||o.newVersion<o.oldVersion?console.warn("Dexie.delete('"+n.name+"') was blocked"):console.warn("Upgrade '"+n.name+"' blocked by other connection holding version "+o.oldVersion/10)}),this._maxKey=dt(r.IDBKeyRange),this._createTransaction=function(o,l,c,f){return new n.Transaction(o,l,c,n._options.chromeTransactionDurability,f)},this._fireOnBlocked=function(o){n.on("blocked").fire(o),it.filter(function(l){return l.name===n.name&&l!==n&&!l._state.vcFired}).map(function(l){return l.on("versionchange").fire(o)})},this.use(Ao),this.use(Ro),this.use(Po),this.use(So),this.vip=Object.create(this,{_vip:{value:!0}}),a.forEach(function(o){return o(n)})}return e.prototype.version=function(t){if(isNaN(t)||t<.1)throw new N.Type("Given version is not a positive number");if(t=Math.round(t*10)/10,this.idbdb||this._state.isBeingOpened)throw new N.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);var r=this._versions,n=r.filter(function(i){return i._cfg.version===t})[0];return n||(n=new this.Version(t),r.push(n),r.sort(so),n.stores({}),this._state.autoSchema=!1,n)},e.prototype._whenReady=function(t){var r=this;return this.idbdb&&(this._state.openComplete||S.letThrough||this._vip)?t():new M(function(n,i){if(r._state.openComplete)return i(new N.DatabaseClosed(r._state.dbOpenError));if(!r._state.isBeingOpened){if(!r._options.autoOpen){i(new N.DatabaseClosed);return}r.open().catch(k)}r._state.dbReadyPromise.then(n,i)}).then(t)},e.prototype.use=function(t){var r=t.stack,n=t.create,i=t.level,a=t.name;a&&this.unuse({stack:r,name:a});var s=this._middlewares[r]||(this._middlewares[r]=[]);return s.push({stack:r,create:n,level:i==null?10:i,name:a}),s.sort(function(o,l){return o.level-l.level}),this},e.prototype.unuse=function(t){var r=t.stack,n=t.name,i=t.create;return r&&this._middlewares[r]&&(this._middlewares[r]=this._middlewares[r].filter(function(a){return i?a.create!==i:n?a.name!==n:!1})),this},e.prototype.open=function(){return To(this)},e.prototype._close=function(){var t=this._state,r=it.indexOf(this);if(r>=0&&it.splice(r,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}t.dbReadyPromise=new M(function(n){t.dbReadyResolve=n}),t.openCanceller=new M(function(n,i){t.cancelOpen=i})},e.prototype.close=function(){this._close();var t=this._state;this._options.autoOpen=!1,t.dbOpenError=new N.DatabaseClosed,t.isBeingOpened&&t.cancelOpen(t.dbOpenError)},e.prototype.delete=function(){var t=this,r=arguments.length>0,n=this._state;return new M(function(i,a){var s=function(){t.close();var o=t._deps.indexedDB.deleteDatabase(t.name);o.onsuccess=K(function(){_o(t._deps,t.name),i()}),o.onerror=fe(a),o.onblocked=t._fireOnBlocked};if(r)throw new N.InvalidArgument("Arguments not allowed in db.delete()");n.isBeingOpened?n.dbReadyPromise.then(s):s()})},e.prototype.backendDB=function(){return this.idbdb},e.prototype.isOpen=function(){return this.idbdb!==null},e.prototype.hasBeenClosed=function(){var t=this._state.dbOpenError;return t&&t.name==="DatabaseClosed"},e.prototype.hasFailed=function(){return this._state.dbOpenError!==null},e.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(e.prototype,"tables",{get:function(){var t=this;return z(this._allTables).map(function(r){return t._allTables[r]})},enumerable:!1,configurable:!0}),e.prototype.transaction=function(){var t=go.apply(this,arguments);return this._transaction.apply(this,t)},e.prototype._transaction=function(t,r,n){var i=this,a=S.trans;(!a||a.db!==this||t.indexOf("!")!==-1)&&(a=null);var s=t.indexOf("?")!==-1;t=t.replace("!","").replace("?","");var o,l;try{if(l=r.map(function(f){var m=f instanceof i.Table?f.name:f;if(typeof m!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return m}),t=="r"||t===rr)o=rr;else if(t=="rw"||t==nr)o=nr;else throw new N.InvalidArgument("Invalid transaction mode: "+t);if(a){if(a.mode===rr&&o===nr)if(s)a=null;else throw new N.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");a&&l.forEach(function(f){if(a&&a.storeNames.indexOf(f)===-1)if(s)a=null;else throw new N.SubTransaction("Table "+f+" not included in parent transaction.")}),s&&a&&!a.active&&(a=null)}}catch(f){return a?a._promise(null,function(m,y){y(f)}):W(f)}var c=bi.bind(null,this,o,l,a,n);return a?a._promise(o,c,"lock"):S.trans?Qe(S.transless,function(){return i._whenReady(c)}):this._whenReady(c)},e.prototype.table=function(t){if(!ee(this._allTables,t))throw new N.InvalidTable("Table "+t+" does not exist");return this._allTables[t]},e}(),wo=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Oo=function(){function e(t){this._subscribe=t}return e.prototype.subscribe=function(t,r,n){return this._subscribe(!t||typeof t=="function"?{next:t,error:r,complete:n}:t)},e.prototype[wo]=function(){return this},e}();function Mi(e,t){return z(t).forEach(function(r){var n=e[r]||(e[r]=new he);Ht(n,t[r])}),e}function Lo(e){return new Oo(function(t){var r=Kr(e);function n(p){r&&Ve();var d=function(){return Pe(e,{subscr:p,trans:null})},h=S.trans?Qe(S.transless,d):d();return r&&h.then(ve,ve),h}var i=!1,a={},s={},o={get closed(){return i},unsubscribe:function(){i=!0,we.storagemutated.unsubscribe(m)}};t.start&&t.start(o);var l=!1,c=!1;function f(){return z(s).some(function(p){return a[p]&&Do(a[p],s[p])})}var m=function(p){Mi(a,p),f()&&y()},y=function(){if(!(l||i)){a={};var p={},d=n(p);c||(we(ft,m),c=!0),l=!0,Promise.resolve(d).then(function(h){l=!1,!i&&(f()?y():(a={},s=p,t.next&&t.next(h)))},function(h){l=!1,t.error&&t.error(h),o.unsubscribe()})}};return y(),o})}var Fr;try{Fr={indexedDB:U.indexedDB||U.mozIndexedDB||U.webkitIndexedDB||U.msIndexedDB,IDBKeyRange:U.IDBKeyRange||U.webkitIDBKeyRange}}catch{Fr={indexedDB:null,IDBKeyRange:null}}var Oe=nn;We(Oe,L(L({},Xt),{delete:function(e){var t=new Oe(e,{addons:[]});return t.delete()},exists:function(e){return new Oe(e,{addons:[]}).open().then(function(t){return t.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(e){try{return po(Oe.dependencies).then(e)}catch{return W(new N.MissingAPI)}},defineClass:function(){function e(t){$(this,t)}return e},ignoreTransaction:function(e){return S.trans?Qe(S.transless,e):e()},vip:wr,async:function(e){return function(){try{var t=Or(e.apply(this,arguments));return!t||typeof t.then!="function"?M.resolve(t):t}catch(r){return W(r)}}},spawn:function(e,t,r){try{var n=Or(e.apply(r,t||[]));return!n||typeof n.then!="function"?M.resolve(n):n}catch(i){return W(i)}},currentTransaction:{get:function(){return S.trans||null}},waitFor:function(e,t){var r=M.resolve(typeof e=="function"?Oe.ignoreTransaction(e):e).timeout(t||6e4);return S.trans?S.trans.waitFor(r):r},Promise:M,debug:{get:function(){return de},set:function(e){ii(e,e==="dexie"?function(){return!0}:Ii)}},derive:Ye,extend:$,props:We,override:$n,Events:vt,on:we,liveQuery:Lo,extendObservabilitySet:Mi,getByKeyPath:Ie,setByKeyPath:ue,delByKeyPath:fs,shallowClone:ti,deepClone:Et,getObjectDiff:tn,cmp:Q,asap:Zn,minKey:Rr,addons:[],connections:it,errnames:zr,dependencies:Fr,semVer:gn,version:gn.split(".").map(function(e){return parseInt(e)}).reduce(function(e,t,r){return e+t/Math.pow(10,r*2)})}));Oe.maxKey=dt(Oe.dependencies.IDBKeyRange);typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(we(ft,function(e){if(!Ee){var t;Vt?(t=document.createEvent("CustomEvent"),t.initCustomEvent(De,!0,!0,e)):t=new CustomEvent(De,{detail:e}),Ee=!0,dispatchEvent(t),Ee=!1}}),addEventListener(De,function(e){var t=e.detail;Ee||zt(t)}));function zt(e){var t=Ee;try{Ee=!0,we.storagemutated.fire(e)}finally{Ee=t}}var Ee=!1;if(typeof BroadcastChannel<"u"){var Pn=new BroadcastChannel(De);we(ft,function(e){Ee||Pn.postMessage(e)}),Pn.onmessage=function(e){e.data&&zt(e.data)}}else if(typeof self<"u"&&typeof navigator<"u"){we(ft,function(e){try{Ee||(typeof localStorage<"u"&&localStorage.setItem(De,JSON.stringify({trig:Math.random(),changedParts:e})),typeof self.clients=="object"&&dr([],self.clients.matchAll({includeUncontrolled:!0}),!0).forEach(function(t){return t.postMessage({type:De,changedParts:e})}))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",function(e){if(e.key===De){var t=JSON.parse(e.newValue);t&&zt(t.changedParts)}});var Nn=self.document&&navigator.serviceWorker;Nn&&Nn.addEventListener("message",Fo)}function Fo(e){var t=e.data;t&&t.type===De&&zt(t.changedParts)}M.rejectionMapper=vs;ii(de,Ii);const Go={command:"Response-Loading",loading:!0},wn={command:"Response-Loading",loading:!1};class Bo extends nn{constructor(r,n){super("Database");Y(this,"bazaars");Y(this,"auctions");Y(this,"bins");Y(this,"cache");Y(this,"timers");Y(this,"_cacheDuration",-1);Y(this,"_lastRefresh",-1);Y(this,"_polling");Y(this,"_initialized",!1);Y(this,"ctx");Y(this,"postRefresh");this.ctx=r,this.postRefresh=n,this.version(1).stores({auctions:"item_name, sellPrice, buyPrice",bazaars:"item_name, sellPrice, buyPrice",bins:"item_name, sellPrice, buyPrice",cache:"key",timers:"id++, itemId, startTime, endTime"})}async ensureInitialize(){if(this._initialized)return;const r=await this.cache.get("lastRefresh");if(r){const n=Number(r.value);Number.isNaN(n)||(this._lastRefresh=n)}this._initialized=!0}set cacheDuration(r){r===void 0?(this._cacheDuration=-1,this._stopPolling()):(this._cacheDuration=r,this._startPolling())}_startPolling(){!this._polling&&this._cacheDuration!==-1&&(this._polling=setInterval(()=>{this._doPolling()},1e3))}_stopPolling(){this._polling&&clearInterval(this._polling)}_doPolling(){const r=Date.now();this._lastRefresh+this._cacheDuration<r&&(this._lastRefresh=r,this.addToCache("lastRefresh",r),this._refresh())}async addToCache(r,n){await this.ensureInitialize(),await this.cache.get(r)?this.cache.update(r,{value:n}):this.cache.add({key:r,value:n})}async removeFromCache(r){await this.ensureInitialize(),await this.cache.get(r)&&this.cache.delete(r)}async getFromCache(r){await this.ensureInitialize();const n=await this.cache.get(r);return n==null?void 0:n.value}async forceRefresh(){await this.ensureInitialize();const r=Date.now();this._lastRefresh=r,this.addToCache("lastRefresh",r),await this._refresh()}sendMessage(r){const n={command:"Response-Message",message:r};this.ctx.postMessage(n)}async _getRefreshPromiseBazaar(r){const n=await ts();this.transaction("rw",this.bazaars,async()=>{this.bazaars.toCollection().delete().then(()=>{this.bazaars.bulkAdd(n),r(),this.sendMessage("Bazaar data has been updated")})})}async _getRefreshPromiseAuctionsAndBins(r,n){return this.auctions.toCollection().delete().then(()=>{this.auctions.bulkAdd(r),n(),this.sendMessage("Auctions data has been updated")})}async _getRefreshPromiseBins(r,n){return this.bins.toCollection().delete().then(()=>{this.bins.bulkAdd(r),n(),this.sendMessage("BINs data has been updated")})}async _refresh(){this.ctx.postMessage(Go);const r=new Promise(i=>{this._getRefreshPromiseBazaar(i)}),n=as().then(i=>this.transaction("rw",this.auctions,this.bins,async()=>{const a=i.filter(m=>!m.bin),s=i.filter(m=>m.bin),o=this._findMinPrice(a),l=this._findMinPrice(s),c=new Promise(m=>this._getRefreshPromiseAuctionsAndBins(o,m)),f=new Promise(m=>this._getRefreshPromiseBins(l,m));return Promise.all([c,f])}));Promise.all([r,n]).then(()=>{this.sendMessage("All data has been updated"),this.ctx.postMessage(wn),this.postRefresh()}).catch(i=>{this.sendMessage(JSON.stringify({err:i,message:"An error occurred"})),this.ctx.postMessage(wn),this.postRefresh()})}_findMinPrice(r){const n=r.reduce((i,a)=>((!i[a.item_name]||i[a.item_name].min>a.buyPrice)&&(i[a.item_name]={item:a,min:a.buyPrice}),i),{});return Object.values(n).map(i=>i.item)}async getItemPrice(r,n){if(await this.ensureInitialize(),n==="bins")return await this.bins.get(r);if(n==="auctions")return await this.auctions.get(r);if(n==="auctions+bins"){const i=await this.bins.get(r),a=await this.auctions.get(r);return i?a?(i==null?void 0:i.buyPrice)<(a==null?void 0:a.buyPrice)?i:a:i:a}return await this.bazaars.get(r)}async getItemBazaarPrice(r){return await this.ensureInitialize(),await this.bazaars.get(r)}async getItemAuctionsPrice(r){return await this.ensureInitialize(),await this.auctions.get(r)}async getItemBinsPrice(r){return await this.ensureInitialize(),await this.bins.get(r)}}const oe=self,xo=36e5;class qo{constructor(){Y(this,"database");Y(this,"timersInterval");Y(this,"languageKey","en-US");Y(this,"withNotification",!1);this.database=new Bo(oe,()=>{}),this.database.cacheDuration=xo}async forceRefresh(){this.messageResponse("Starting forceRefresh"),await this.database.ensureInitialize(),await this.database.forceRefresh()}async getLanguage(){this.messageResponse("ask for language");const t=await this.database.cache.get("language");if(t){this.languageKey=t.value;const n={command:"Response-GetLanguage",language:this.languageKey};oe.postMessage(n)}const r={command:"Response-GetLanguage",language:void 0};oe.postMessage(r)}async getPrices(){const t=await this.getAllOptions(),r=await this.getCrafts();this.messageResponse("Starting getPrices"),this.getItemsWithCraftPrice({crafts:r,...t}).then(n=>{this.messageResponse("Ending getPrices");const i={command:"Response-GetPrices",results:n};oe.postMessage(i)})}async initialize(t){var a,s;this.messageResponse("Initializing"),this.getOptions(),this.withNotification=t,await this.database.timers.count()!==0&&this.timersInterval===void 0&&(this.timersInterval=setInterval(()=>{this.checkTimers()},1e3));const n=await this.database.getFromCache("playerName"),i=await this.database.getFromCache("playerProfile");if(n&&i){const o=await ss(n,i);o&&(this.database.addToCache("hotm",(a=o.data.mining.core.tier)!=null?a:se.hotm),this.database.addToCache("quickForge",(s=o.raw.mining_core.nodes.forge_time)!=null?s:se.quickForge),this.database.timers.clear())}this.getTimers(),this.getPrices()}setLanguage(t){this.database.addToCache("language",t),this.languageKey=t}async setOptions(t){const r=await this.getAllOptions(),n={};if(Object.keys(t).forEach(i=>{const a=t[i];a!==r[i]&&(this.database.addToCache(i,a),n[i]=a)}),Object.keys(n).length>0){const i={command:"Response-Options",...n};oe.postMessage(i),this.getPrices()}}async startTimer({itemId:t}){const r=$t.find(i=>i.itemId===t);if(r){this.messageResponse(`Start timer for ${JSON.stringify(r)}`);const i=await this.database.timers.count(),a=await this.getForgeSlots();if(i<a){const s=Date.now(),o=s+r.time*1e3*60*60;this.database.timers.add({endTime:o,itemId:t,startTime:s})}i===0&&this.timersInterval===void 0&&(this.timersInterval=setInterval(()=>{this.checkTimers()},1e3))}else this.messageResponse(`Start timer but item not found ${t}`);this.getTimers();const n={command:"Response-TimerSet",itemId:t};oe.postMessage(n)}async stopTimer({id:t}){await this.database.timers.delete(t),await this.database.timers.count()===0&&clearInterval(this.timersInterval),this.getTimers()}async getForgeSlots(){const{hotm:t}=await this.getAllOptions();return Math.min(7,t)}getTimers(){this.database.timers.toArray().then(t=>{const r={command:"Response-Timers",timers:t};oe.postMessage(r)})}async getOptions(){const t={command:"Response-Options",...await this.getAllOptions()};oe.postMessage(t)}async getCrafts(){const{hotm:t,includeAuctionsFlip:r}=await this.getAllOptions();let n=$t;return r||(n=n.filter(i=>i.bazaarItem)),n=n.filter(i=>i.hotm<=t),n}async getAllOptions(){var t,r,n,i,a,s,o,l,c;return{auctionsBINOnly:(t=await this.database.getFromCache("auctionsBINOnly"))!=null?t:se.auctionsBINOnly,cacheDuration:(r=await this.database.getFromCache("cacheDuration"))!=null?r:se.cacheDuration,hotm:(n=await this.database.getFromCache("hotm"))!=null?n:se.hotm,includeAuctionsFlip:(i=await this.database.getFromCache("includeAuctionsFlip"))!=null?i:se.includeAuctionsFlip,includePerfectGems:(a=await this.database.getFromCache("includePerfectGems"))!=null?a:se.includePerfectGems,intermediateCraft:(s=await this.database.getFromCache("intermediateCraft"))!=null?s:se.intermediateCraft,maxCraftingCost:(o=await this.database.getFromCache("maxCraftingCost"))!=null?o:se.maxCraftingCost,playFrequency:(l=await this.database.getFromCache("playFrequency"))!=null?l:se.playFrequency,playerName:await this.database.getFromCache("playerName"),playerProfile:await this.database.getFromCache("playerProfile"),quickForge:(c=await this.database.getFromCache("quickForge"))!=null?c:se.quickForge}}async checkTimers(){const t=Date.now(),r=await this.database.timers.toArray(),n=this.getLang();r.forEach(i=>{if(t>i.endTime){this.notifyMe(n.notification.timerEnded.replace("{0}",n.items[i.itemId])),this.database.timers.delete(i.id),this.getTimers();const a={command:"Response-TimerEnded",itemId:i.itemId};oe.postMessage(a)}})}notifyMe(t){this.withNotification&&Notification.permission==="granted"&&new Notification(t)}messageResponse(t){const r={command:"Response-Message",message:t};oe.postMessage(r)}async resolveItemPrices(t,r,n){var s;if(r==="bazaar"){const o=await this.database.getItemBazaarPrice(t);return o?{buy:o.buyPrice,sell:o.sellPrice}:{buy:NaN,sell:NaN}}else if(r==="vendor"){const o=(s=an[t])!=null?s:0;return{buy:o,sell:o}}const i=await this.database.getItemBinsPrice(t);if(i&&n)return{buy:i==null?void 0:i.buyPrice,sell:i==null?void 0:i.buyPrice};const a=await this.database.getItemAuctionsPrice(t);if(i||a){const o=Math.min(...[i==null?void 0:i.buyPrice,a==null?void 0:a.buyPrice].filter(l=>l));return{buy:o,sell:o}}return{buy:NaN,sell:NaN}}async resolveItemCraftPrice(t,r,n){var a;const i=$t.find(s=>s.itemId===t);if(i){let s=0;for await(const o of i.craftMaterial)if(r&&o.intermediaryCraft){const l=await this.resolveItemCraftPrice(o.itemId,r,n);s+=l*o.quantity}else if(o.source==="vendor")s+=((a=an[o.itemId])!=null?a:0)*o.quantity;else{const{buy:l}=await this.resolveItemPrices(o.itemId,o.source,n);s+=l*o.quantity}return s}return NaN}async updater(t){const{auctionsBINOnly:r,callback:n,id:i,intermediateCraft:a,isCraft:s,source:o}=t;if(s){const l=await this.resolveItemCraftPrice(i,a,r);n(l)}else{const{buy:l}=await this.resolveItemPrices(i,o,r);n(l)}}getQuickForgeBonus(t){return t>=2&&t<=10?.85:t>=11&&t<=19?.805:t===20?.7:1}async getMaterialPrice({auctionsBINOnly:t,crafts:r,intermediateCraft:n}){var a;const i={};for await(const s of r)for await(const o of s.craftMaterial)if(n)await this.updater({auctionsBINOnly:t,id:o.itemId,intermediateCraft:n,isCraft:o.intermediaryCraft,source:o.source,callback:l=>{i[o.itemId]={...s,craft:l,time:0}}});else{const l=o.source==="bazaar"?await this.database.getItemPrice(o.itemId,"bazaar"):await this.database.getItemPrice(o.itemId,"bins");i[o.itemId]={...s,craft:(a=l==null?void 0:l.buyPrice)!=null?a:0,time:0}}return i}async getItemsWithCraftPrice(t){var f,m;const{auctionsBINOnly:r,crafts:n,intermediateCraft:i,playFrequency:a,quickForge:s}=t,o={},l=await this.getMaterialPrice(t),c=this.getQuickForgeBonus(s);for await(const y of n){const p=(f=Ni[y.itemId])!=null?f:"vendor",d=y.bazaarItem?await this.database.getItemPrice(y.itemId,"bazaar"):await this.database.getItemPrice(y.itemId,"bins"),h=(m=d==null?void 0:d.sellPrice)!=null?m:0;await this.updater({auctionsBINOnly:r,id:y.itemId,intermediateCraft:i,isCraft:!0,source:p,callback:v=>{const T=h-v;let C=1;switch(a){case"everyday":C=24;break;case"three-time":C=8;break;case"twice":C=12;break}const g=y.time*c,A=T/Math.max(g,C)*C;o[y.itemId]={...y,craft:v,profit:T,profitHourly:A,sell:h,time:g}}})}return{crafts:o,materials:l}}getLang(){switch(this.languageKey){case"fr-FR":return Qi;case"en-US":default:return Vi}}}const Re=new qo;oe.addEventListener("message",e=>{switch(e.data.command){case"Command-ForceRefresh":Re.forceRefresh();break;case"Command-GetLanguage":Re.getLanguage();break;case"Command-GetPrices":Re.getPrices();break;case"Command-Initialize":Re.initialize(e.data.withNotification);break;case"Command-SetLanguage":Re.setLanguage(e.data.language);break;case"Command-SetOptions":Re.setOptions(e.data.options);break;case"Command-StartTimer":Re.startTimer(e.data);break;case"Command-StopTimer":Re.stopTimer(e.data);break}});
